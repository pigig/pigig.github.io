<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Linux | P's Blog</title><meta name="description" content="Linux7.6计算机硬件软件体系冯诺依曼体系结构 计算机处理的数据和指令一律用二进制数表示 顺序执行程序 计算机硬件由运算器、控制器、存储器、输入设备和输出设备五大部分组成   计算机硬件组成 输入设备  输入设备用来将人们熟悉的信息形式转换为机器能够识别的信息形式 常见的有键盘，鼠标等     输出设备  输出设备可以将机器运算结果转换为人们熟悉的信息形式 打印机输出，显示器输出等   存储器"><meta name="keywords" content="System"><meta name="author" content="Pigig"><meta name="copyright" content="Pigig"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://pigig.github.io/2020/08/25/0101Linux/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="Linux"><meta property="og:url" content="https://pigig.github.io/2020/08/25/0101Linux/"><meta property="og:site_name" content="P's Blog"><meta property="og:description" content="Linux7.6计算机硬件软件体系冯诺依曼体系结构 计算机处理的数据和指令一律用二进制数表示 顺序执行程序 计算机硬件由运算器、控制器、存储器、输入设备和输出设备五大部分组成   计算机硬件组成 输入设备  输入设备用来将人们熟悉的信息形式转换为机器能够识别的信息形式 常见的有键盘，鼠标等     输出设备  输出设备可以将机器运算结果转换为人们熟悉的信息形式 打印机输出，显示器输出等   存储器"><meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="article:published_time" content="2020-08-25T01:29:45.000Z"><meta property="article:modified_time" content="2020-08-25T01:39:38.399Z"><meta name="twitter:card" content="summary"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.0.2',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime: '',
  last_push_date: '',
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
      const now = new Date()
      const expiryDay = ttl * 86400000
      const item = {
        value: value,
        expiry: now.getTime() + expiryDay,
      }
      localStorage.setItem(key, JSON.stringify(item))
    },
  
  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2020-08-25 09:39:38'
}</script><noscript><style type="text/css">
#nav {
  opacity: 1
}
.justified-gallery img {
  opacity: 1
}
</style></noscript><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var autoChangeMode = 'false'
var t = saveToLocal.get('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (saveToLocal.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><meta name="generator" content="Hexo 5.0.2"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" data-lazy-src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">8</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">3</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div id="body-wrap"><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux7-6"><span class="toc-number">1.</span> <span class="toc-text">Linux7.6</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB"><span class="toc-number">1.1.</span> <span class="toc-text">计算机硬件软件体系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%AF%E8%AF%BA%E4%BE%9D%E6%9B%BC%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.1.1.</span> <span class="toc-text">冯诺依曼体系结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6%E7%BB%84%E6%88%90"><span class="toc-number">1.1.2.</span> <span class="toc-text">计算机硬件组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A1%AC%E7%9B%98%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.1.3.</span> <span class="toc-text">硬盘的分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E8%AF%BB%E5%86%99%E4%B8%8E%E9%9A%8F%E6%9C%BA%E8%AF%BB%E5%86%99"><span class="toc-number">1.1.4.</span> <span class="toc-text">顺序读写与随机读写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.5.</span> <span class="toc-text">网络连接概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.1.6.</span> <span class="toc-text">网络连接模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6%E5%88%86%E7%B1%BB"><span class="toc-number">1.1.7.</span> <span class="toc-text">软件分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E5%88%86%E6%94%AF"><span class="toc-number">1.1.8.</span> <span class="toc-text">Linux分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E4%B8%8B%E8%BD%BD"><span class="toc-number">1.1.9.</span> <span class="toc-text">Linux下载</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE"><span class="toc-number">1.2.</span> <span class="toc-text">虚拟机安装与配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF"><span class="toc-number">1.2.1.</span> <span class="toc-text">虚拟化技术</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA"><span class="toc-number">1.2.2.</span> <span class="toc-text">创建虚拟主机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.2.3.</span> <span class="toc-text">安装操作系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%B8%B8%E8%A7%81%E5%8F%82%E6%95%B0"><span class="toc-number">1.2.4.</span> <span class="toc-text">配置常见参数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">网络</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">防火墙</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E9%99%90%E5%88%B6"><span class="toc-number">1.2.4.3.</span> <span class="toc-text">软件安装限制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E6%9C%BA"><span class="toc-number">1.2.4.4.</span> <span class="toc-text">关机</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E7%85%A7%E4%B8%8E%E5%85%8B%E9%9A%86"><span class="toc-number">1.2.5.</span> <span class="toc-text">快照与克隆</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%85%8B%E9%9A%86%E6%9C%BA%E9%85%8D%E7%BD%AE"><span class="toc-number">1.2.6.</span> <span class="toc-text">修改克隆机配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E4%BF%A1%E6%81%AF"><span class="toc-number">1.2.6.1.</span> <span class="toc-text">网络信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E6%9C%BA%E5%90%8D"><span class="toc-number">1.2.6.2.</span> <span class="toc-text">主机名</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5Linux%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">1.2.7.</span> <span class="toc-text">连接Linux服务器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="toc-number">1.3.</span> <span class="toc-text">Linux的命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E5%AD%A6%E4%B9%A0%E6%B3%95"><span class="toc-number">1.3.1.</span> <span class="toc-text">命令学习法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="toc-number">1.3.2.</span> <span class="toc-text">常用的命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6"><span class="toc-number">1.3.3.</span> <span class="toc-text">特殊字符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.4.</span> <span class="toc-text">Linux的文件系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%87%E4%BA%8B%E4%B8%87%E7%89%A9%E7%9A%86%E6%96%87%E4%BB%B6"><span class="toc-number">1.4.1.</span> <span class="toc-text">万事万物皆文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95"><span class="toc-number">1.4.2.</span> <span class="toc-text">Linux文件目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E7%9A%84%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.3.</span> <span class="toc-text">Linux的文件操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E4%BF%A1%E6%81%AF"><span class="toc-number">1.4.4.</span> <span class="toc-text">读取文件信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#VI%E5%92%8CVIM%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">1.4.5.</span> <span class="toc-text">VI和VIM编辑器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6"><span class="toc-number">1.4.5.1.</span> <span class="toc-text">打开文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.4.5.2.</span> <span class="toc-text">三种模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F%E5%88%87%E6%8D%A2"><span class="toc-number">1.4.5.3.</span> <span class="toc-text">三种模式切换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E8%BE%91%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.4.5.4.</span> <span class="toc-text">编辑模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.4.5.5.</span> <span class="toc-text">输入模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%AB%E8%A1%8C%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.4.5.6.</span> <span class="toc-text">末行模式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%97%B4%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93"><span class="toc-number">1.4.6.</span> <span class="toc-text">计算机间的数据传输</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Window%E2%80%93Linux"><span class="toc-number">1.4.6.1.</span> <span class="toc-text">Window–Linux</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Linux%E2%80%93Linux"><span class="toc-number">1.4.6.2.</span> <span class="toc-text">Linux–Linux</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F"><span class="toc-number">1.4.7.</span> <span class="toc-text">文件大小</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%8E%8B%E7%BC%A9"><span class="toc-number">1.4.8.</span> <span class="toc-text">文件压缩</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#tar"><span class="toc-number">1.4.8.1.</span> <span class="toc-text">tar</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zip%E5%92%8Cunzip"><span class="toc-number">1.4.8.2.</span> <span class="toc-text">zip和unzip</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E7%9A%84%E7%BD%91%E7%BB%9C%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.</span> <span class="toc-text">Linux的网络信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E6%9C%BA%E5%90%8D%E7%A7%B0"><span class="toc-number">1.5.1.</span> <span class="toc-text">主机名称</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS%E8%A7%A3%E6%9E%90"><span class="toc-number">1.5.2.</span> <span class="toc-text">DNS解析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-number">1.5.3.</span> <span class="toc-text">网络相关命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95"><span class="toc-number">1.5.4.</span> <span class="toc-text">加密算法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E9%80%86%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95"><span class="toc-number">1.5.4.1.</span> <span class="toc-text">不可逆加密算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95"><span class="toc-number">1.5.4.2.</span> <span class="toc-text">对称加密算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95"><span class="toc-number">1.5.4.3.</span> <span class="toc-text">非对称加密算法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E6%9C%BA%E9%97%B4%E7%9A%84%E7%9B%B8%E4%BA%92%E5%85%8D%E7%A7%98%E9%92%A5"><span class="toc-number">1.5.5.</span> <span class="toc-text">主机间的相互免秘钥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E6%9C%BA%E5%90%8D%E4%B8%8EHost%E6%A0%A1%E9%AA%8C"><span class="toc-number">1.5.6.</span> <span class="toc-text">主机名与Host校验</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E4%B8%8E%E6%97%B6%E9%97%B4"><span class="toc-number">1.6.</span> <span class="toc-text">日期与时间</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E5%91%BD%E4%BB%A4"><span class="toc-number">1.6.1.</span> <span class="toc-text">时间命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E8%87%AA%E5%8A%A8%E5%90%8C%E6%AD%A5"><span class="toc-number">1.6.2.</span> <span class="toc-text">日期自动同步</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%97%B6%E9%97%B4%E7%BB%9F%E8%AE%A1"><span class="toc-number">1.6.3.</span> <span class="toc-text">命令执行时间统计</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7-%E7%BB%84-%E6%9D%83%E9%99%90"><span class="toc-number">1.7.</span> <span class="toc-text">用户-组-权限</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7"><span class="toc-number">1.7.1.</span> <span class="toc-text">用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84"><span class="toc-number">1.7.2.</span> <span class="toc-text">组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%83%E9%99%90"><span class="toc-number">1.7.3.</span> <span class="toc-text">权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E8%B5%8B%E4%BA%88"><span class="toc-number">1.7.4.</span> <span class="toc-text">权限赋予</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%A1%E9%81%93%E4%B8%8E%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.8.</span> <span class="toc-text">管道与重定向</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%A1%E9%81%93"><span class="toc-number">1.8.1.</span> <span class="toc-text">管道</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.8.2.</span> <span class="toc-text">重定向</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E7%9A%84%E7%B3%BB%E7%BB%9F%E8%BF%9B%E7%A8%8B"><span class="toc-number">1.9.</span> <span class="toc-text">Linux的系统进程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E4%BF%A1%E6%81%AF"><span class="toc-number">1.9.1.</span> <span class="toc-text">进程信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8E%E5%8F%B0%E8%BF%9B%E7%A8%8B"><span class="toc-number">1.9.2.</span> <span class="toc-text">后台进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%80%E6%AD%BB%E8%BF%9B%E7%A8%8B"><span class="toc-number">1.9.3.</span> <span class="toc-text">杀死进程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E7%9A%84%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="toc-number">1.10.</span> <span class="toc-text">Linux的软件安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.10.1.</span> <span class="toc-text">环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6%E7%9A%84%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F"><span class="toc-number">1.10.2.</span> <span class="toc-text">软件的安装方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RPM%E5%AE%89%E8%A3%85"><span class="toc-number">1.10.3.</span> <span class="toc-text">RPM安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9%E5%8C%85%E8%A7%A3%E5%8E%8B%E5%AE%89%E8%A3%85"><span class="toc-number">1.10.4.</span> <span class="toc-text">压缩包解压安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#YUM%E5%AE%89%E8%A3%85"><span class="toc-number">1.10.5.</span> <span class="toc-text">YUM安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#yum%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.10.5.1.</span> <span class="toc-text">yum的作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#yum%E5%91%BD%E4%BB%A4"><span class="toc-number">1.10.5.2.</span> <span class="toc-text">yum命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%B4%E6%8D%A2yum%E6%BA%90"><span class="toc-number">1.10.5.3.</span> <span class="toc-text">更换yum源</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Mysql%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.10.6.</span> <span class="toc-text">安装Mysql数据库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E7%9A%84%E4%B8%89%E5%89%91%E5%AE%A2"><span class="toc-number">1.11.</span> <span class="toc-text">Linux的三剑客</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E5%89%91%E5%AE%A2"><span class="toc-number">1.11.1.</span> <span class="toc-text">普通剑客</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%91%E5%AE%A21%E5%8F%B7%EF%BC%9Agrep"><span class="toc-number">1.11.2.</span> <span class="toc-text">剑客1号：grep</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%91%E5%AE%A22%E5%8F%B7%EF%BC%9Ased"><span class="toc-number">1.11.3.</span> <span class="toc-text">剑客2号：sed</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%91%E5%AE%A23%E5%8F%B7%EF%BC%9Aawk"><span class="toc-number">1.11.4.</span> <span class="toc-text">剑客3号：awk</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E7%9A%84Shell%E7%BC%96%E7%A8%8B"><span class="toc-number">1.12.</span> <span class="toc-text">Linux的Shell编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A"><span class="toc-number">1.12.1.</span> <span class="toc-text">名词解释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8CShell%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">1.12.2.</span> <span class="toc-text">执行Shell的方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shell%E8%AF%AD%E6%B3%95"><span class="toc-number">1.12.3.</span> <span class="toc-text">shell语法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E7%9A%84%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B"><span class="toc-number">1.13.</span> <span class="toc-text">Linux的启动流程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B"><span class="toc-number">1.13.1.</span> <span class="toc-text">系统启动流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.13.2.</span> <span class="toc-text">系统服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.13.3.</span> <span class="toc-text">开机自启动服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1"><span class="toc-number">1.13.4.</span> <span class="toc-text">定时任务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%88%9D%E5%A7%8B%E5%8C%96%E8%84%9A%E6%9C%AC"><span class="toc-number">1.14.</span> <span class="toc-text">虚拟机初始化脚本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9B%B8%E4%BA%92%E5%85%8D%E7%A7%98%E9%92%A5"><span class="toc-number">1.15.</span> <span class="toc-text">虚拟机相互免秘钥</span></a></li></ol></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">P's Blog</a></span><span class="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">Linux</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-08-25T01:29:45.000Z" title="发表于 2020-08-25 09:29:45">2020-08-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-08-25T01:39:38.399Z" title="更新于 2020-08-25 09:39:38">2020-08-25</time></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="Linux7-6"><a href="#Linux7-6" class="headerlink" title="Linux7.6"></a>Linux7.6</h1><h2 id="计算机硬件软件体系"><a href="#计算机硬件软件体系" class="headerlink" title="计算机硬件软件体系"></a>计算机硬件软件体系</h2><h3 id="冯诺依曼体系结构"><a href="#冯诺依曼体系结构" class="headerlink" title="冯诺依曼体系结构"></a>冯诺依曼体系结构</h3><ul>
<li>计算机处理的数据和指令一律用二进制数表示</li>
<li>顺序执行程序</li>
<li>计算机硬件由运算器、控制器、存储器、输入设备和输出设备五大部分组成</li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200708161144948.png" alt="image-20200708161144948"></li>
</ul>
<h3 id="计算机硬件组成"><a href="#计算机硬件组成" class="headerlink" title="计算机硬件组成"></a>计算机硬件组成</h3><ul>
<li><p>输入设备</p>
<ul>
<li>输入设备用来将人们熟悉的信息形式转换为机器能够识别的信息形式<ul>
<li>常见的有键盘，鼠标等</li>
</ul>
</li>
</ul>
</li>
<li><p>输出设备</p>
<ul>
<li>输出设备可以将机器运算结果转换为人们熟悉的信息形式</li>
<li>打印机输出，显示器输出等</li>
</ul>
</li>
<li><p>存储器</p>
<ul>
<li>存储器用来存放数据和程序</li>
<li>RAM(random access memory）即随机存储内存:<ul>
<li>速度快，容量小</li>
<li>掉电易失</li>
<li>逻辑IO</li>
</ul>
</li>
<li>ROM（Read-Only Memory）即只读内存硬盘:<ul>
<li>容量大，速度相对较慢</li>
<li>长久保存</li>
<li>物理IO</li>
</ul>
</li>
</ul>
</li>
<li><p>CPU(中央处理器)</p>
<ul>
<li>控制器<ul>
<li>控制器主要用来控制和指挥程序和数据的输入运行，以及处理运算结果</li>
</ul>
</li>
<li>运算器<ul>
<li>运算器主要运行算数运算和逻辑运算，并将中间结果暂存到运算器中</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/timg-1592148953148.jpg" alt="img"></p>
</li>
</ul>
<h3 id="硬盘的分类"><a href="#硬盘的分类" class="headerlink" title="硬盘的分类"></a>硬盘的分类</h3><ul>
<li>硬盘按照存储介质的不同可以分为如下两种<ul>
<li>机械硬盘（Hard Disk Driver, HDD）<ul>
<li>机械硬盘采用磁性碟片来存储数据</li>
<li>用显微镜把盘片放大，会看见盘片表面凹凸不平，凸起的地方被磁化，凹的地方是没有被磁化</li>
<li>凸起的地方代表数字1（磁化为1），凹的地方代表数字0。</li>
<li>硬盘可以以二进制来存储表示文字、图片等信息。</li>
<li>硬盘可以根据转速来判断硬盘的好坏  7200转/分     100-200M/s  </li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/1592149966860.png" alt="1592149966860"></li>
</ul>
</li>
<li>固态硬盘（Solid State Disk, SSD）<ul>
<li>固态硬盘通过闪存颗粒（固态电子存储芯片阵列）来存储数据</li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/1592149605582.png" alt="1592149605582"></li>
</ul>
</li>
</ul>
</li>
<li>读写速度的区别<ul>
<li>固态硬盘的读取速度普遍可以达到400M/s，写入速度也可以达到130M/s以上，</li>
<li>其读写速度是普通机械硬盘的3-5倍。</li>
</ul>
</li>
<li>机械硬盘的数据读写<ul>
<li>主流的硬盘半机械半电子硬盘(机械硬盘)<ul>
<li>硬盘的转速(转速越快读取越快)</li>
<li>寻道时间</li>
<li>数据传输时间</li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/1592149765854.png" alt="1592149765854"></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="顺序读写与随机读写"><a href="#顺序读写与随机读写" class="headerlink" title="顺序读写与随机读写"></a>顺序读写与随机读写</h3><p><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/jacobs3-1592150227038.jpg" alt="img"></p>
<h3 id="网络连接概念"><a href="#网络连接概念" class="headerlink" title="网络连接概念"></a>网络连接概念</h3><ul>
<li><p>IP地址IPADDR</p>
<ul>
<li>IP地址是一种逻辑地地址，用来标识网络中一个个主机<ul>
<li>IP地址=网络地址+主机地址</li>
<li>IP地址是一个 4 * 8bit（1字节）由 0/1 组成的数字串（IP4协议）</li>
</ul>
</li>
</ul>
</li>
<li><p>子网掩码NETMASK</p>
<ul>
<li>网掩码只有一个功能，就是将IP地址划分为网络地址和主机地址两部分。</li>
<li>子网掩码用来判断任意两台计算机的IP地址是否在同一个子网中的根据<ul>
<li>A 192.168.7.111  B 192.168.8.222</li>
<li>255.255.0.0</li>
</ul>
</li>
</ul>
</li>
<li><p>默认网关GATEWAY</p>
<ul>
<li>连接两个不同的网络的设备都可以叫网关设备；网关的作用就是实现两个网络之间进行通讯与控制。</li>
<li>网关地址就是网关设备的IP地址</li>
</ul>
</li>
<li><p>域名服务器DNS</p>
<ul>
<li>DNS是域名服务器，用来解析域名的（域名和IP之间的解析）。</li>
<li>如果没有这东西，登陆某个网站时就必须输入该网站的IP地址，有了DNS就可以直接输入网址。</li>
</ul>
</li>
<li><p><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/1592154096605.png" alt="1592154096605"></p>
</li>
</ul>
<h3 id="网络连接模式"><a href="#网络连接模式" class="headerlink" title="网络连接模式"></a>网络连接模式</h3><ul>
<li><p>host-only(主机模式)</p>
<ul>
<li>在某些特殊的网络调试环境中，要求将真实环境和虚拟环境隔离开，这时你就可采用host-only模式。</li>
<li>在host-only模式中，所有的虚拟系统是可以相互通信的，但虚拟系统和真实的网络是被隔离开的。</li>
<li>在host-only模式下，虚拟系统的TCP/IP配置信息都是由VMnet1(host-only)虚拟网络的DHCP服务器来动态分配的</li>
</ul>
</li>
<li><p>bridged(桥接模式)</p>
<ul>
<li>VMWare虚拟出来的操作系统就像是局域网中的一台独立的主机，它可以访问网内任何一台机器。</li>
<li>使用桥接模式的虚拟系统和宿主机器的关系，就像连接在同一个Hub上的两台电脑。</li>
<li>当前主机IP 为  192.168.8.100  虚拟机  192.168.8.xxx<ul>
<li>学习期间为了防止IP冲突，所以不选择这种模式</li>
</ul>
</li>
</ul>
</li>
<li><p>NAT(网络地址转换模式)</p>
<ul>
<li><p>使用NAT模式，就是让虚拟系统借助NAT(网络地址转换)功能，通过宿主机器所在的网络来访问公网。</p>
</li>
<li><p>NAT模式下的虚拟系统的TCP/IP配置信息是由VMnet8(NAT)虚拟网络的DHCP服务器提供的</p>
</li>
<li><p>虚 拟系统也就无法和本局域网中的其他真实主机进行通讯</p>
<p><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/1592152727518.png" alt="1592152727518"></p>
</li>
</ul>
</li>
</ul>
<h3 id="软件分类"><a href="#软件分类" class="headerlink" title="软件分类"></a>软件分类</h3><ul>
<li>应用软件<ul>
<li>就是为了实现某些业务功能</li>
<li>应用软件要基于对应的系统软件<ul>
<li>不同的操作系统要安装不同的软件</li>
</ul>
</li>
</ul>
</li>
<li>系统软件<ul>
<li>就是为了和硬件打交道</li>
<li>屏蔽应用软件与硬件的差异</li>
</ul>
</li>
<li>系统软件的分类<ul>
<li>Window<ul>
<li>用户量全球最大</li>
<li>收费，不开源，民用较多</li>
<li>各种软件比较齐全</li>
</ul>
</li>
<li>Mac<ul>
<li>只限定于某些苹果的品牌机</li>
<li>ios–自成一家</li>
</ul>
</li>
<li>GNU/Linux<ul>
<li>GNU是一个开源软件组织,世界上所有的软件都应该开源免费<ul>
<li>GNU Is Not Unix</li>
<li>GCC++</li>
<li>托瓦兹  林纳斯 Linus – Linux(Linux is not unix)</li>
<li>Logo是企鹅 </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Linux分支"><a href="#Linux分支" class="headerlink" title="Linux分支"></a>Linux分支</h3><ul>
<li><p>RedHat（收费）</p>
<ul>
<li>CentOS<ul>
<li>完全开源免费</li>
<li>不要使用最新版的CentOS</li>
</ul>
</li>
<li>主要用于服务器版本</li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200707110058646.png" alt="image-20200707110058646" style="zoom:50%;" />
</li>
</ul>
</li>
<li><p>Debain（免费）</p>
<ul>
<li><p>Ubuntu</p>
<ul>
<li><p>视窗界面良好的Linux系统</p>
</li>
<li><p>一些主流的软件都支持Ubuntu系统</p>
</li>
<li><p><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200713172339924.png" alt="image-20200713172339924"></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Linux下载"><a href="#Linux下载" class="headerlink" title="Linux下载"></a>Linux下载</h3><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200707104549840.png" alt="image-20200707104549840" style="zoom:50%;" />

<ul>
<li>官网<ul>
<li><a target="_blank" rel="noopener" href="https://linux.org/">https://linux.org/</a></li>
</ul>
</li>
<li>下载页面<ul>
<li><a target="_blank" rel="noopener" href="https://linux.org/pages/download/">https://linux.org/pages/download/</a></li>
</ul>
</li>
<li>CentOS7.6下载地址<ul>
<li><a target="_blank" rel="noopener" href="http://vault.centos.org/7.6.1810/">http://vault.centos.org/7.6.1810/</a></li>
</ul>
</li>
<li>镜像的分类<ul>
<li>everything<ul>
<li>This image contains the complete set of packages for  CentOS Linux 7. It can be used for installing or populating a local mirror.</li>
</ul>
</li>
<li>minimal<ul>
<li>The aim of this image is to install a very basic CentOS 6.5 system with the minimum of packages needed to have a functional system.</li>
</ul>
</li>
<li>netinstall<ul>
<li>This is the network install and rescue image.</li>
</ul>
</li>
</ul>
</li>
<li>操作系统的位数<ul>
<li>优先选择64位,将来安装软件有更好兼容性</li>
</ul>
</li>
</ul>
<h2 id="虚拟机安装与配置"><a href="#虚拟机安装与配置" class="headerlink" title="虚拟机安装与配置"></a>虚拟机安装与配置</h2><h3 id="虚拟化技术"><a href="#虚拟化技术" class="headerlink" title="虚拟化技术"></a>虚拟化技术</h3><ul>
<li>可以更好的利用计算机闲置的资源</li>
<li>我们可以在计算机中虚拟出多台虚拟机帮助我们执行程序或者业务</li>
<li>虚拟机的各种组成理论上和真实主机是一样的</li>
<li>如果要使用这种技术只需要安装对应的软件即可<ul>
<li>Virtualbox</li>
<li>VirtualMachine</li>
</ul>
</li>
<li>安装软件<ul>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615173225833.png" alt="image-20200615173225833"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615173242198.png" alt="image-20200615173242198"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615173254030.png" alt="image-20200615173254030"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615173312047.png" alt="image-20200615173312047"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615173328271.png" alt="image-20200615173328271"></li>
</ul>
</li>
</ul>
<h3 id="创建虚拟主机"><a href="#创建虚拟主机" class="headerlink" title="创建虚拟主机"></a>创建虚拟主机</h3><ul>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615173424371.png" alt="image-20200615173424371"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615173437726.png" alt="image-20200615173437726"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615173449590.png" alt="image-20200615173449590"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615173500262.png" alt="image-20200615173500262"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615173557622.png" alt="image-20200615173557622"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615173701077.png" alt="image-20200615173701077"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615173725456.png" alt="image-20200615173725456"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615173620370.png" alt="image-20200615173620370"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615173535546.png" alt="image-20200615173535546"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615173515755.png" alt="image-20200615173515755"></li>
</ul>
<h3 id="安装操作系统"><a href="#安装操作系统" class="headerlink" title="安装操作系统"></a>安装操作系统</h3><ul>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615173854744.png" alt="image-20200615173854744"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615174009040.png" alt="image-20200615174009040"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615174045754.png" alt="image-20200615174045754"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615174126791.png" alt="image-20200615174126791"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615174216768.png" alt="image-20200615174216768"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615174235306.png" alt="image-20200615174235306"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615174302204.png" alt="image-20200615174302204"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615174340479.png" alt="image-20200615174340479"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615174829131.png" alt="image-20200615174829131"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615174935651.png" alt="image-20200615174935651"></li>
</ul>
<h3 id="配置常见参数"><a href="#配置常见参数" class="headerlink" title="配置常见参数"></a>配置常见参数</h3><h4 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h4><ul>
<li><p>查看自己虚拟网卡地址</p>
<ul>
<li>编辑–&gt;虚拟机网络编辑器–&gt;vmnet8</li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615175405727.png" alt="image-20200615175405727" style="zoom:50%;" />
</li>
</ul>
</li>
<li><p>修改网络配置信息</p>
<ul>
<li><p>vi编辑器简单使用</p>
<ul>
<li><p>操作文档</p>
<ul>
<li>光标位置</li>
<li>dd 删除一行</li>
<li>i 将文档变成可修改模式</li>
<li>esc 退出编辑</li>
<li>:wq 保存并退出</li>
</ul>
</li>
</ul>
</li>
<li><p>修改网络信息</p>
<ul>
<li><p>vi /etc/sysconfig/network-scripts/ifcfg-ens33</p>
</li>
<li><pre><code>--修改
ONBOOT=yes 
BOOTPROTO=static  //静态网络IP   dhcp 动态获取网络IP
--添加
IPADDR=192.168.58.100
NETMASK=255.255.255.0
GATEWAY=192.168.58.2
DNS1=114.114.114.114
删除------
UUID</code></pre>
</li>
<li><p><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615175138675.png" alt="image-20200615175138675"></p>
</li>
</ul>
</li>
<li><p>重启网卡重新加载配置文件</p>
<ul>
<li>ip addr</li>
<li>systemctl restart network.service</li>
<li>ping <a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a></li>
<li>ctrl+c 终止命令的执行</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h4><ul>
<li>保护本机的端口不被别人访问</li>
<li>如果端口需要被别人访问到，需要添加端口的防火墙例外</li>
<li>关闭防火墙<ul>
<li>本次开机状态下防火墙关闭<ul>
<li>systemctl stop firewalld (本次服务内关闭防火墙)</li>
</ul>
</li>
<li>服务器重启后防火墙禁用<ul>
<li>systemctl disable firewalld(禁用防火墙服务)</li>
</ul>
</li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200708161515410.png" alt="image-20200708161515410"></li>
</ul>
</li>
</ul>
<h4 id="软件安装限制"><a href="#软件安装限制" class="headerlink" title="软件安装限制"></a>软件安装限制</h4><ul>
<li>操作系统对未知软件的安装有可能拒绝或者警告，我们需要禁用这个功能</li>
<li>vi /etc/selinux/config<ul>
<li>SELINUX=disabled</li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200708161602812.png" alt="image-20200708161602812"></li>
</ul>
</li>
</ul>
<h4 id="关机"><a href="#关机" class="headerlink" title="关机"></a>关机</h4><ul>
<li>关机<ul>
<li>halt <ul>
<li>直接拔掉电源</li>
</ul>
</li>
<li>poweroff<ul>
<li>直接关闭机器，但是有可能当前虚拟机其他人在使用</li>
</ul>
</li>
<li>shutdown -h now <ul>
<li>马上关闭计算机 ，但是可以给其他用户发送消息</li>
</ul>
</li>
<li>reboot<ul>
<li>重启虚拟机</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="快照与克隆"><a href="#快照与克隆" class="headerlink" title="快照与克隆"></a>快照与克隆</h3><ul>
<li>拍摄快照<ul>
<li>记录当前虚拟机的状态</li>
<li>拍摄快照的时候一定要关机</li>
</ul>
</li>
<li>转到<ul>
<li>回到某一个历史快照的节点</li>
</ul>
</li>
<li>克隆<ul>
<li>复制某一个历史快照节点</li>
<li>克隆的方式<ul>
<li>链接克隆<ul>
<li>当前节点文件夹只存储差异性数据</li>
<li>相同数据存放在原始节点上</li>
<li>优点：节省硬盘空间  缺点：耦合性大</li>
</ul>
</li>
<li>完整克隆<ul>
<li>就是基于原始节点完全拷贝到新节点的文件夹中</li>
<li>优点：耦合性抵  缺点：硬盘空间使用大</li>
<li>推荐使用完整克隆</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200708161341826.png" alt="image-20200708161341826"></li>
</ul>
<h3 id="修改克隆机配置"><a href="#修改克隆机配置" class="headerlink" title="修改克隆机配置"></a>修改克隆机配置</h3><h4 id="网络信息"><a href="#网络信息" class="headerlink" title="网络信息"></a>网络信息</h4><ul>
<li>参考2.4.1的修改网络信息</li>
</ul>
<h4 id="主机名"><a href="#主机名" class="headerlink" title="主机名"></a>主机名</h4><ul>
<li>vi /etc/hostname<ul>
<li>修改完成后需要重启生效</li>
</ul>
</li>
<li>hostname bd16<ul>
<li>本次启动中有效，重启虚拟机还是使用原来的名字</li>
</ul>
</li>
</ul>
<h3 id="连接Linux服务器"><a href="#连接Linux服务器" class="headerlink" title="连接Linux服务器"></a>连接Linux服务器</h3><ul>
<li>Xshell<ul>
<li>负责向虚拟机输入命令</li>
</ul>
</li>
<li>XFtp<ul>
<li>如则向虚拟机传输文件</li>
</ul>
</li>
</ul>
<h2 id="Linux的命令"><a href="#Linux的命令" class="headerlink" title="Linux的命令"></a>Linux的命令</h2><p><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200708161941397.png" alt="image-20200708161941397"></p>
<h3 id="命令学习法"><a href="#命令学习法" class="headerlink" title="命令学习法"></a>命令学习法</h3><ul>
<li>Linux命令与参数之间必须用空格隔开</li>
<li>Linux命令是区分大小写的</li>
<li>如果输入了错误的命令<ul>
<li>-bash: abcd: command not found</li>
<li>命令敲错了</li>
<li>命令未安装</li>
</ul>
</li>
<li>type 命令的类型<ul>
<li>cd is a shell builtin</li>
<li>ping is /bin/ping</li>
<li>ll is aliased to `ls -l –color=auto’</li>
<li>for is a shell keyword</li>
</ul>
</li>
<li>命令的帮助文档<ul>
<li>help<ul>
<li>内置命令的帮助文档</li>
</ul>
</li>
<li>man<ul>
<li>外部命令的帮助文档</li>
<li>因为当前系统为minimal的，very basic 没有man包</li>
<li>需要手动安装man<ul>
<li>yum install man man-pages -y</li>
</ul>
</li>
</ul>
</li>
<li>将来工作中如果遇到生疏的命令，直接百度<ul>
<li>如果不是为了装C,完全没必要查看命令手册</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="常用的命令"><a href="#常用的命令" class="headerlink" title="常用的命令"></a>常用的命令</h3><ul>
<li>whereis  查询命令文件的位置</li>
<li>file 查看文件的类型</li>
<li>who 查看当前在线的用户</li>
<li>whoami 我是谁</li>
<li>pwd 我在那</li>
<li>uname -a  查看内核信息</li>
<li>echo 类似于 sout syso  ，打印语句</li>
<li>clear 清屏</li>
<li>history 历史</li>
</ul>
<h3 id="特殊字符"><a href="#特殊字符" class="headerlink" title="特殊字符"></a>特殊字符</h3><ul>
<li><p>.点：</p>
<ul>
<li>如果文件的开始是.说明当前文件是一个隐藏文件</li>
<li>. 指向当前目录</li>
<li>..指向当前目录的上级目录</li>
</ul>
</li>
<li><p>$</p>
<ul>
<li>说明这是一个变量<ul>
<li>$PATH Linux的环境变量</li>
</ul>
</li>
</ul>
</li>
<li><p>*星号</p>
<ul>
<li>通配符</li>
</ul>
</li>
<li><p>~</p>
<ul>
<li>当前用户的家目录</li>
</ul>
</li>
<li><p>空格</p>
<ul>
<li>Linux的命令与参数用空格隔开</li>
</ul>
</li>
<li><p>/</p>
<ul>
<li>整个Linux的文件根目录</li>
</ul>
</li>
<li><p>命令的参数</p>
<ul>
<li>如果是单词 一般加–</li>
<li>如果是字母或者缩写 一般加 -</li>
</ul>
</li>
<li><p>修改Xshell字体颜色</p>
<ul>
<li><pre><code class="shell">PS1=&#39;\[\e[36;40m\][\u@\h \W]\[\e[0m\]\\$ &#39;
echo &quot;PS1=&#39;\[\e[36;40m\][\u@\h \W]\[\e[0m\]\\$ &#39;&quot; &gt;&gt; ~/.bashrc
source ~/.bashrc</code></pre>
</li>
</ul>
</li>
</ul>
<h2 id="Linux的文件系统"><a href="#Linux的文件系统" class="headerlink" title="Linux的文件系统"></a>Linux的文件系统</h2><h3 id="万事万物皆文件"><a href="#万事万物皆文件" class="headerlink" title="万事万物皆文件"></a>万事万物皆文件</h3><ul>
<li><p>文件系统：</p>
<ul>
<li>操作系统如何管理文件，内部定义了一些规则或者定义</li>
</ul>
</li>
<li><p>所以在Linux中所有的东西都是以文件的方式进行操作</p>
</li>
<li><p>在Linux中，文件的访问不和Window的一样。window依靠的是通过盘符进行访问</p>
</li>
<li><p>Linux维护着一个树状结构的文件模型</p>
<ul>
<li>只有一个根节点 ,他的名字叫做 /</li>
<li>一个节点上可以有多个子节点</li>
</ul>
</li>
<li><p>查找文件的方式</p>
<ul>
<li>相对路径<ul>
<li>以当前路径为基准点，查找其他资源</li>
<li>vi ../etc/sysconfig/network</li>
</ul>
</li>
<li>绝对路径<ul>
<li>以根目录为基准点，查找其他资源</li>
<li>vi /etc/sysconfig/network-scripts/ifcfg-ens33</li>
</ul>
</li>
<li>日常使用中，只要找到路径即可，但是如果是一些配置文件，尽量写绝对路径</li>
</ul>
</li>
<li><p>可以随意的挂载磁盘</p>
<ul>
<li><pre><code>mount /dev/disk1 /usr/download
disk1 1T
mount /dev/disk2 /usr/upload
disk2 100T
mount /dev/disk3 /usr/upload/photo
disk3 1P</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="Linux文件目录"><a href="#Linux文件目录" class="headerlink" title="Linux文件目录"></a>Linux文件目录</h3><ul>
<li><p><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/003vPl7Rty6E8kZRlAEdc690.jpg" alt="img"></p>
</li>
<li><pre><code>/bin：
bin是Binary的缩写, 这个目录存放着最经常使用的命令。

/boot：
这里存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件。

/dev ：
dev是Device(设备)的缩写, 该目录下存放的是Linux的外部设备，在Linux中访问设备的方式和访问文件的方式是相同的。

/etc：
这个目录用来存放所有的系统管理所需要的配置文件和子目录。

/home：
用户的主目录，在Linux中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的。

/lib：
这个目录里存放着系统最基本的动态连接共享库，其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。

/lost+found：
这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。

/media：
linux 系统会自动识别一些设备，例如U盘、光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。

/mnt：
系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光驱挂载在/mnt/上，然后进入该目录就可以查看光驱里的内容了。

/opt：
 这是给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。

/proc：
这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。
这个目录的内容不在硬盘上而是在内存里，我们也可以直接修改里面的某些文件，
比如可以通过下面的命令来屏蔽主机的ping命令，使别人无法ping你的机器：
echo 1 &gt; /proc/sys/net/ipv4/icmp_echo_ignore_all

/root：
该目录为系统管理员，也称作超级权限者的用户主目录。

/sbin：
s就是Super User的意思，这里存放的是系统管理员使用的系统管理程序。

/selinux：
 这个目录是Redhat/CentOS所特有的目录，Selinux是一个安全机制，类似于windows的防火墙，但是这套机制比较复杂，这个目录就是存放selinux相关的文件的。

/srv：
 该目录存放一些服务启动之后需要提取的数据。

/sys：
这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统 sysfs 。
sysfs文件系统集成了下面3种文件系统的信息：针对进程信息的proc文件系统、针对设备的devfs文件系统以及针对伪终端的devpts文件系统。该文件系统是内核设备树的一个直观反映。
当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中被创建。

/tmp：
这个目录是用来存放一些临时文件的。

/usr：
 这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似于windows下的program files目录。

/usr/bin：
系统用户使用的应用程序。

/usr/sbin：
超级用户使用的比较高级的管理程序和系统守护程序。

/usr/src：
内核源代码默认的放置目录。

/var：
这个目录中存放着在不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种日志文件。

/run：
是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被删掉或清除。如果你的系统上有 /var/run 目录，应该让它指向 run。</code></pre>
</li>
</ul>
<h3 id="Linux的文件操作"><a href="#Linux的文件操作" class="headerlink" title="Linux的文件操作"></a>Linux的文件操作</h3><ul>
<li>cd<ul>
<li>改变当前工作目录</li>
</ul>
</li>
<li>ls ll<ul>
<li>显示出指定目录下所有的文件</li>
<li>文件的类型<ul>
<li>-普通文件</li>
<li>d文件夹</li>
<li>l软连接</li>
</ul>
</li>
<li>-rw-r–r–. 1 root root 3384 Nov 11 23:51 install.log.syslog</li>
</ul>
</li>
<li>mkdir<ul>
<li>创建文件目录</li>
<li>mkdir -p a/b/c/d/e/f 会自动创建文件父目录</li>
<li>mkdir -p sxt/{1234}ls 一次可以创建多个子目录</li>
</ul>
</li>
<li>rmdir<ul>
<li>删除空文件夹<ul>
<li>rmdir: failed to remove ‘a1’: Directory not empty</li>
<li>rmdir: failed to remove ‘baidu’: Not a directory</li>
</ul>
</li>
<li>可以安全的删除文件目录</li>
</ul>
</li>
<li>cp<ul>
<li>拷贝文件或者文件目录</li>
<li>cp 源文件 目标目录<ul>
<li>cp abcd /opt</li>
<li>cp /opt/abcd ./</li>
</ul>
</li>
<li>拷贝文件夹<ul>
<li>cp -r sxt /opt</li>
<li>拷贝文件夹下所有的内容</li>
<li>cp: omitting directory ‘/root/a1’</li>
</ul>
</li>
</ul>
</li>
<li>mv<ul>
<li>移动文件或者文件夹<ul>
<li>mv a1 /opt</li>
<li>mv abc /opt</li>
</ul>
</li>
<li>修改文件名称<ul>
<li>mv a abcd</li>
</ul>
</li>
</ul>
</li>
<li>rm<ul>
<li>删除文件<ul>
<li>rm install.log</li>
<li>rm -f install.log</li>
</ul>
</li>
<li>删除文件夹<ul>
<li>rm -r abcd</li>
<li>rm -rf abcd  谨慎使用，从删库到跑路</li>
</ul>
</li>
</ul>
</li>
<li>touch<ul>
<li>如果没有就创建一个文件</li>
<li>如果该文件已经存在，修改文件的三个时间，将三个时间改为当前时间</li>
</ul>
</li>
<li>stat<ul>
<li>查看文件的状态</li>
<li>Inode 当前文件在文件系统的唯一标识，类似于ID</li>
<li>时间<ul>
<li>access 访问时间</li>
<li>modify 修改文件内容时间</li>
<li>change 修改文件元数据信息时间<ul>
<li>文件大小 ，文件所有者 ，文件权限</li>
<li>对于文件的描述信息</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>ln <ul>
<li>创建文件的链接</li>
<li>软(符号)连接<ul>
<li>ln -s sxt01 sl</li>
<li>软连接和原始文件不是同一个文件<ul>
<li>sxt1 131085</li>
<li>sl 131074</li>
</ul>
</li>
<li>rm -rf sxt1</li>
</ul>
</li>
<li>硬链接<ul>
<li>ln -s sxt02 hl</li>
<li>硬链接和原始文件使用文件系统中的同一个文件</li>
<li>如果你害怕一个文件被别人误删，你可以使用硬链接保护这个文件</li>
</ul>
</li>
<li>软硬链接在链接文件的时候，推荐使用文件的绝对路径,否则有可能会出现问题</li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200616114551163.png" alt="image-20200616114551163"></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200616114644978.png" alt="image-20200616114644978"></li>
</ul>
</li>
</ul>
<h3 id="读取文件信息"><a href="#读取文件信息" class="headerlink" title="读取文件信息"></a>读取文件信息</h3><ul>
<li>cat<ul>
<li>将整个文档加载到内存中，并进行一次性显示</li>
<li>除非后面使用管道，传递数据</li>
</ul>
</li>
<li>tac<ul>
<li>将整个文档加载到内存中，并进行一次性按行逆序显示</li>
</ul>
</li>
<li>more less<ul>
<li>分页查看文档内容</li>
<li>快捷键<ul>
<li>回车  下一行</li>
<li>空格  下一页</li>
<li>b 回退</li>
<li>q 退出</li>
</ul>
</li>
</ul>
</li>
<li>head<ul>
<li>从文章开始读取N行</li>
<li>默认如果超过10行读取10行,否则读取现在行数</li>
<li>head -5 profile</li>
</ul>
</li>
<li>tail <ul>
<li>从文章末尾读取N行</li>
<li>head -3 profile | tail -1<ul>
<li>利用管道只读取第N行</li>
<li>管道的作用就相当于把前面的结果以参数的方式传递给后面的命令</li>
</ul>
</li>
<li>读取新增数据<ul>
<li>ping <a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a> &gt;&gt;baidu</li>
<li>tail -F baidu</li>
<li>如果f:<ul>
<li>它会监听指定inode的文件数据变化，但是当文件被删除后</li>
<li>即使创新创建，inode也会发生变化，于是监听失败</li>
</ul>
</li>
<li>如果F<ul>
<li>他会监听指定名字的文件,如果文件被删除后，重新创建</li>
<li>他会重新监听新文件的数据变化，监听不受影响</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>find<ul>
<li>查找指定的文件</li>
<li>find 要查找的范围 -name 名字</li>
<li>find /etc -name profile</li>
</ul>
</li>
</ul>
<h3 id="VI和VIM编辑器"><a href="#VI和VIM编辑器" class="headerlink" title="VI和VIM编辑器"></a>VI和VIM编辑器</h3><p><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/115K111039.png"></p>
<h4 id="打开文件"><a href="#打开文件" class="headerlink" title="打开文件"></a>打开文件</h4><ul>
<li>正常打开<ul>
<li>vi profile</li>
</ul>
</li>
<li>打开文件，并将光标置于第8行<ul>
<li>vi +8 profile </li>
</ul>
</li>
<li>打开最后一行<ul>
<li>vi + profile</li>
<li>按n查找下一个，按N查找上一个</li>
</ul>
</li>
<li>打开指定搜索单词的位置<ul>
<li>vi +/if profile</li>
</ul>
</li>
</ul>
<h4 id="三种模式"><a href="#三种模式" class="headerlink" title="三种模式"></a>三种模式</h4><ul>
<li>编辑模式<ul>
<li>编辑模式中，每一个按键都有其他的功能</li>
</ul>
</li>
<li>输入模式<ul>
<li>每一个按键按下什么，就像文本中数据输入什么</li>
</ul>
</li>
<li>末行（命令行）模式<ul>
<li>我们可以直接在VI中输入特定的命令</li>
</ul>
</li>
</ul>
<h4 id="三种模式切换"><a href="#三种模式切换" class="headerlink" title="三种模式切换"></a>三种模式切换</h4><p><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200708162117755.png" alt="image-20200708162117755"></p>
<ul>
<li>编辑模式–&gt;输入模式<ul>
<li>i在当前位置插入数据</li>
<li>a追加数据</li>
<li>o在当前行后面开启一个新的输入行</li>
<li>I 行首</li>
<li>A 行尾</li>
<li>O 上一行</li>
</ul>
</li>
<li>输入模式–&gt;编辑模式<ul>
<li>按下ESC</li>
</ul>
</li>
<li>编辑模式–&gt;末行模式<ul>
<li>:</li>
</ul>
</li>
<li>末行模式–&gt;编辑模式<ul>
<li>按下ESC</li>
</ul>
</li>
</ul>
<h4 id="编辑模式"><a href="#编辑模式" class="headerlink" title="编辑模式"></a>编辑模式</h4><ul>
<li>G最后一行</li>
<li>gg 跳转到第一行</li>
<li>数字gg 跳转到第数字行</li>
<li>w 下个单词</li>
<li>数字w </li>
<li>dw 删除一个单词</li>
<li>3dw 删除三个单词</li>
<li>dd 删除一行</li>
<li>3dd 删除三行</li>
<li>u回退到前面的操作</li>
<li>.回退u执行的操作</li>
<li>yw 复制一个单词</li>
<li>3yw 赋值三个单词</li>
<li>yy 复制一行</li>
<li>3yy复制三行</li>
<li>p粘贴</li>
<li>6p 粘贴6次</li>
<li>x 剪切</li>
<li>3x 剪切三个字符</li>
<li>r 替换，然后输入一个字符替换</li>
<li>3r 替换三个</li>
<li>hjkl 方向键</li>
<li>ZZ 保存并退出</li>
<li>ctrl+s 锁屏  ctrl+q 解锁</li>
</ul>
<h4 id="输入模式"><a href="#输入模式" class="headerlink" title="输入模式"></a>输入模式</h4><ul>
<li>没得讲。按啥是啥</li>
</ul>
<h4 id="末行模式"><a href="#末行模式" class="headerlink" title="末行模式"></a>末行模式</h4><ul>
<li>set nu 设置行号</li>
<li>set nonu 取消行号</li>
<li>w 保存</li>
<li>q 退出</li>
<li>wq 保存并退出</li>
<li>q!强制退出，但是不保存</li>
<li>如果上次异常退出会保留同名隐藏文件，每次启动会给与提示<ul>
<li>如果确定当前文件没问题，请删除隐藏文件</li>
</ul>
</li>
<li>/pattern<ul>
<li>搜索指定的字符串</li>
<li>/usr  n向下查找 N逆向查找</li>
</ul>
</li>
<li>s/p1/p2/g<ul>
<li>替换字符串</li>
<li>g 替换当前行所有  否则只替换当前行第一个<ul>
<li>s/abc/sxt/g</li>
</ul>
</li>
<li>查找指定行<ul>
<li>3,8s/abc/sxt/g</li>
</ul>
</li>
<li>替换全文<ul>
<li>g/abc/s//sxt/g</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="计算机间的数据传输"><a href="#计算机间的数据传输" class="headerlink" title="计算机间的数据传输"></a>计算机间的数据传输</h3><h4 id="Window–Linux"><a href="#Window–Linux" class="headerlink" title="Window–Linux"></a>Window–Linux</h4><ul>
<li>lrzsz<ul>
<li>需要手动安装<ul>
<li>yum install lrzsz -y</li>
</ul>
</li>
<li>rz<ul>
<li>将文件从window上传到Linux</li>
</ul>
</li>
<li>sz 文件<ul>
<li>将文件从Linux传输到Window</li>
</ul>
</li>
</ul>
</li>
<li>xftp<ul>
<li>较为通用的文件传输方式</li>
</ul>
</li>
</ul>
<h4 id="Linux–Linux"><a href="#Linux–Linux" class="headerlink" title="Linux–Linux"></a>Linux–Linux</h4><ul>
<li>scp  源数据地址(source)  目标数据地址(target)</li>
<li>scp apache-tomcat-7.0.61.tar.gz <a href="mailto:&#114;&#x6f;&#111;&#x74;&#64;&#49;&#x39;&#50;&#x2e;&#49;&#x36;&#x38;&#x2e;&#x33;&#49;&#46;&#52;&#52;">&#114;&#x6f;&#111;&#x74;&#64;&#49;&#x39;&#50;&#x2e;&#49;&#x36;&#x38;&#x2e;&#x33;&#49;&#46;&#52;&#52;</a>:/opt</li>
<li>scp <a href="mailto:&#x72;&#111;&#111;&#116;&#x40;&#49;&#x39;&#x32;&#x2e;&#x31;&#54;&#56;&#46;&#51;&#49;&#x2e;&#52;&#x34;">&#x72;&#111;&#111;&#116;&#x40;&#49;&#x39;&#x32;&#x2e;&#x31;&#54;&#56;&#46;&#51;&#49;&#x2e;&#52;&#x34;</a>:/opt/apache-tomcat-7.0.61.tar.gz ./</li>
<li>scp -r apache-tomcat-7.0.61 <a href="mailto:&#114;&#111;&#x6f;&#x74;&#x40;&#x31;&#x39;&#x32;&#46;&#49;&#54;&#56;&#46;&#51;&#x31;&#46;&#x34;&#52;">&#114;&#111;&#x6f;&#x74;&#x40;&#x31;&#x39;&#x32;&#46;&#49;&#54;&#56;&#46;&#51;&#x31;&#46;&#x34;&#52;</a>:/opt</li>
</ul>
<h3 id="文件大小"><a href="#文件大小" class="headerlink" title="文件大小"></a>文件大小</h3><ul>
<li>分区信息<ul>
<li>df -h</li>
</ul>
</li>
<li>指定文件目录大小<ul>
<li>du -h –max-depth=1  apache-tomcat-7.0.61</li>
</ul>
</li>
<li>swap<ul>
<li>一个特殊分区，以硬盘代替内存</li>
<li>当内存使用满的时候，可以将一部分数据写出到swap分区</li>
</ul>
</li>
</ul>
<h3 id="文件压缩"><a href="#文件压缩" class="headerlink" title="文件压缩"></a>文件压缩</h3><h4 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h4><ul>
<li>主要针对的文件是  sxt.tar.gz</li>
<li>解压缩<ul>
<li>tar -zx(解压)v(过程)f(文件) sxt.tar.gz</li>
</ul>
</li>
<li>压缩<ul>
<li>tar -zc(压缩)f(文件) tomcat.tar.gz(压缩后的名字) apache-tomcat-7.0.61(源文件)</li>
<li>tar -zxf tomcat.tar.gz -C /opt/<ul>
<li>-C 指定解压缩的文件目录</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="zip和unzip"><a href="#zip和unzip" class="headerlink" title="zip和unzip"></a>zip和unzip</h4><ul>
<li>安装<ul>
<li>yum install zip unzip -y</li>
</ul>
</li>
<li>压缩<ul>
<li>zip -r tomcat.zip apache-tomcat-7.0.61</li>
</ul>
</li>
<li>解压缩<ul>
<li>unzip tomcat.zip</li>
</ul>
</li>
</ul>
<h2 id="Linux的网络信息"><a href="#Linux的网络信息" class="headerlink" title="Linux的网络信息"></a>Linux的网络信息</h2><h3 id="主机名称"><a href="#主机名称" class="headerlink" title="主机名称"></a>主机名称</h3><ul>
<li>临时修改<ul>
<li>hostname school</li>
</ul>
</li>
<li>长久修改<ul>
<li>vi /etc/hostname</li>
</ul>
</li>
</ul>
<h3 id="DNS解析"><a href="#DNS解析" class="headerlink" title="DNS解析"></a>DNS解析</h3><ul>
<li>域名解析服务</li>
<li>可以将域名转换为IP地址</li>
<li>DNS域名劫持<ul>
<li>window –&gt; C:\Windows\System32\drivers\etc\hosts</li>
<li>123.56.138.186 <a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a><br>123.56.138.186 <a target="_blank" rel="noopener" href="http://www.taodao.com/">www.taodao.com</a></li>
</ul>
</li>
<li>修改主机域名<ul>
<li>vi /etc/hosts</li>
<li>将来我们需要把所有的虚拟机都配置hosts文件</li>
<li>192.168.31.101 bd1601</li>
<li>192.168.31.102 bd1602</li>
</ul>
</li>
</ul>
<h3 id="网络相关命令"><a href="#网络相关命令" class="headerlink" title="网络相关命令"></a>网络相关命令</h3><ul>
<li>ifconfig<ul>
<li>查看当前网卡的配置信息</li>
<li>这个命令属于 net-tools中的一个命令，但是Centos7中minimal版并没有集成这个包</li>
<li>所以7的时候需要自己手动安装</li>
<li>如果没有ifconfig ，可以使用ip addr 临时代替</li>
</ul>
</li>
<li>netstat<ul>
<li>查看当前网络的状态信息</li>
<li>一个机器默认有65536个端口号[0,65535]</li>
<li>这是一个逻辑的概念，将来我们需要使用程序监听指定的端口，等待别人的访问</li>
<li>一个端口只能被一个程序所监听, 端口已经被占用</li>
<li>netstat -anp</li>
<li>netstat -r 核心路由表   ==  route</li>
</ul>
</li>
<li>ping<ul>
<li>查看与目标IP地址是否能够连通</li>
</ul>
</li>
<li>telnet <ul>
<li>查看与目标IP的指定端口是否能够连通</li>
<li>yum  install telnet -y</li>
<li>telnet 192.168.31.44 22</li>
</ul>
</li>
<li>curl<ul>
<li>restful 我们所有的资源在网络上中都有唯一的定位</li>
<li>那么我们可以通过这个唯一定位标识指定的资源</li>
<li><a target="_blank" rel="noopener" href="http://localhost:8080/sxt/user.action/666">http://localhost:8080/sxt/user.action/666</a></li>
<li>curl -X GET <a target="_blank" rel="noopener" href="http://www.baidu.com/">http://www.baidu.com</a> </li>
</ul>
</li>
</ul>
<h3 id="加密算法"><a href="#加密算法" class="headerlink" title="加密算法"></a>加密算法</h3><p><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200708162630894.png" alt="image-20200708162630894"></p>
<h4 id="不可逆加密算法"><a href="#不可逆加密算法" class="headerlink" title="不可逆加密算法"></a>不可逆加密算法</h4><p><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/18a1c7d630412558c07ce3c828a88814.jpeg" alt="对称加密、非对称加密、摘要（Hash算法）、数字签名、数字证书"></p>
<ul>
<li>可以通过数据计算加密后的结果，但是通过结果无法计算出加密数据</li>
<li>应用场景<ul>
<li>Hash算法常用在不可还原的密码存储、信息完整性校验。</li>
<li>文档、音视频文件、软件安装包等用新老摘要对比是否一样(接收到的文件是否被修改)</li>
<li>用户名或者密码加密后数据库存储(数据库大多数不会存储关键信息的明文，就像很多登录功能的忘记密码不能找回，只能重置)</li>
</ul>
</li>
<li>案例<ul>
<li>123456</li>
<li>e10adc3949ba59abbe56e057f20f883e</li>
</ul>
</li>
</ul>
<h4 id="对称加密算法"><a href="#对称加密算法" class="headerlink" title="对称加密算法"></a>对称加密算法</h4><p><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/08afd27dfb5133b704d9ae29919603b7.jpeg" alt="对称加密、非对称加密、摘要（Hash算法）、数字签名、数字证书"></p>
<ul>
<li>Symmetric Key Encryption</li>
<li>代表性算法叫做  DES、3DES、Blowfish、IDEA、RC4、RC5、RC6和AES</li>
<li>特点<ul>
<li>加密和解密使用相同的秘钥 </li>
</ul>
</li>
<li>优点<ul>
<li>生成密钥的算法公开、计算量小、加密速度快、加密效率高、密钥较短</li>
</ul>
</li>
<li>缺点<ul>
<li>双方共同的密钥，有一方密钥被窃取，双方都影响</li>
<li>如果为每个客户都生成不同密钥，则密钥数量巨大，密钥管理有压力</li>
</ul>
</li>
<li>应用场景<ul>
<li>登录信息用户名和密码加密、传输加密、指令加密</li>
</ul>
</li>
<li>案例: <ul>
<li>原文：今晚八点学校小树林见</li>
<li>密钥： sxt</li>
<li>xqscCQo+bQ7XJPxjr3jHmgAgPDhaOeJAkjiFv37Q0wU=</li>
</ul>
</li>
</ul>
<h4 id="非对称加密算法"><a href="#非对称加密算法" class="headerlink" title="非对称加密算法"></a>非对称加密算法</h4><p><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/ab1a5c175aedad9bd613eb411901f48d.jpeg" alt="对称加密、非对称加密、摘要（Hash算法）、数字签名、数字证书"></p>
<ul>
<li><p>Asymmetric Key Encryption</p>
</li>
<li><p>非对称加密算法需要一对密钥(两个密钥)：</p>
<ul>
<li>公开密钥(publickey)和私有密钥(privatekey)(简称公钥，私钥)。</li>
<li>公开密钥与私有密钥生成时是一对</li>
<li>用公钥加密只能是对应的私钥解密，同理用私钥加密只能用对应的公钥解密。</li>
</ul>
</li>
<li><p>代表性算法叫做  RSA、ECC、Diffie-Hellman、El Gamal、DSA(数字签名用)</p>
</li>
<li><p>优点：</p>
<ul>
<li>安全高(几乎很难破解)</li>
</ul>
</li>
<li><p>缺点</p>
<ul>
<li>加解密相对速度慢、密钥长、计算量大、效率低</li>
</ul>
</li>
<li><p>应用场景</p>
<ul>
<li>HTTPS(ssl)证书里制作、CRS请求证书、金融通信加密、蓝牙等硬件信息加密配对传输、关键的登录信息验证。</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="http://tool.chacuo.net/cryptrsaprikey">http://tool.chacuo.net/cryptrsaprikey</a></p>
<ul>
<li><pre><code>-----BEGIN PUBLIC KEY-----
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDjlHREYDiL9p5bAPBsMCy+UIaH
e4MAm7djkuHYW3aGQLgG9Rc1CSRaFeNXBw+llDsnIgBPgoUI4S8N2m87n25zJ5jH
7pEyWoZsAeTgpqJ6fzfciRpGHsawZ+AxVs0PeIvBMVIIZfpP4tIK5WVau7mVt0gy
/bU+PtX35wVymIKy7QIDAQAB
-----END PUBLIC KEY-----</code></pre>
</li>
<li><pre><code>-----BEGIN PRIVATE KEY-----
MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAOOUdERgOIv2nlsA
8GwwLL5Qhod7gwCbt2OS4dhbdoZAuAb1FzUJJFoV41cHD6WUOyciAE+ChQjhLw3a
bzufbnMnmMfukTJahmwB5OCmonp/N9yJGkYexrBn4DFWzQ94i8ExUghl+k/i0grl
ZVq7uZW3SDL9tT4+1ffnBXKYgrLtAgMBAAECgYBOkrvNu7bqQ/yKiPl5MOzRzHWW
I0OomxqnC1hkXbe/RGsFI+ueSQi+/Z2fN3XkghgmO6wFx5ds6GpZixgqarIz8z/Z
AixGVx7BgUgAzIZ4OOsm7uLpPs7WEVLWn1I4/59HxnzWX85ShBsfJc4tFb566Bc2
/5SaBurNXlOURFFs9QJBAPUL/qCWZ5JljXEtlLqaumEY54WT6+dJpL0j2bsmvktk
CkMpzqCKy8ymiFPa5FyZDRsZfLQBoHWv7SVKD0wOFMcCQQDtwJcAsOrxWApQ19tr
9wrrv0QB0XPkJjOL85x/I+6Q6CMd2YQs8ze2ex+J45VWtADQYi2VixgmtI9pNmW7
eJ6rAkAe2s/I8KdB67+PjKm5hVoKd9RPIX0GtmMj3avAwPQdEg+ovU7jMBbRQfbQ
eDNg5XSdAOyOzdWie/BkTZr3fJ5pAkEAr9OVGOK97ZxRjLYGRNMfVXdOwRV4YorJ
5j9URkZ5gNrcVY/uixuX4TEvAte3MrbOP03MLmL+imlQAdxD4h/zHwJBANY0vxVf
8tzwPdXcNWK8ZCqmWLR8sDTrzRdwNejBraYb00yEngGy1uALsDNevXtzrRkh8dzV
QI5y+RliuFYWd14=
-----END PRIVATE KEY-----
</code></pre>
</li>
<li><pre><code>IpaC8/W8s3UL9wDuz8pRUA3bG3jE0Ch0MqCiVd3LXHBXSDRVckvD20cUEnBkiG0N85NfY6rvM0iyb4fNkic4BhmLQg6AsV4L8LEIptSwPJwlVqJprqh7MHN+R9y/PekSmpZYAxitTaFFfgJPDhGYl45TmWLj2vhGoOQy/INK9lY=</code></pre>
</li>
<li><pre><code>今晚八点学校小树林见</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="主机间的相互免秘钥"><a href="#主机间的相互免秘钥" class="headerlink" title="主机间的相互免秘钥"></a>主机间的相互免秘钥</h3><ul>
<li><p>可以通过ssh命令免秘钥连接到其他的主机</p>
</li>
<li><p>如果是第一次建立连接，需要输入yes</p>
<ul>
<li>在 ~/.ssh/known_hosts 文件记录了以前访问地址(ip hostname)的信息</li>
<li>在访问地址的时候如果没有收录到known_hosts文件中，就需要输入yes</li>
<li>如果以前收录到known_hosts中，直接输入密码即可</li>
</ul>
</li>
<li><p>需要输入密码</p>
<ul>
<li>生成秘钥<ul>
<li>ssh-keygen -t rsa -P ‘’ -f ~/.ssh/id_rsa</li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200713180557828.png" alt="image-20200713180557828"></li>
</ul>
</li>
<li>如果你想免秘钥登录谁，只需要把自己的公钥传递给对方主机即可</li>
<li>这个秘钥要放在  ~/.ssh/authorized_keys<ul>
<li>ssh-copy-id -i ~/.ssh/id_rsa.pub <a href="mailto:&#114;&#x6f;&#111;&#x74;&#x40;&#49;&#x39;&#x32;&#x2e;&#49;&#x36;&#x38;&#x2e;&#53;&#56;&#x2e;&#x31;&#x30;&#x32;">&#114;&#x6f;&#111;&#x74;&#x40;&#49;&#x39;&#x32;&#x2e;&#49;&#x36;&#x38;&#x2e;&#53;&#56;&#x2e;&#x31;&#x30;&#x32;</a></li>
<li><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200618092539154.png" alt="image-20200618092539154"></li>
</ul>
</li>
</ul>
</li>
<li><p>相互面秘钥工作流程</p>
</li>
</ul>
<h3 id="主机名与Host校验"><a href="#主机名与Host校验" class="headerlink" title="主机名与Host校验"></a>主机名与Host校验</h3><ul>
<li>错误原因:</li>
<li>Cannot determine realm for numeric host </li>
<li>解决方案1–本次<ul>
<li>ssh -v -o GSSAPIAuthentication=no <a href="mailto:&#x72;&#x6f;&#x6f;&#116;&#64;&#x31;&#57;&#x32;&#46;&#49;&#x36;&#56;&#x2e;&#49;&#x38;&#x39;&#46;&#x32;&#x30;&#49;">&#x72;&#x6f;&#x6f;&#116;&#64;&#x31;&#57;&#x32;&#46;&#49;&#x36;&#56;&#x2e;&#49;&#x38;&#x39;&#46;&#x32;&#x30;&#49;</a></li>
</ul>
</li>
<li>解决方案2–所有<ul>
<li>修改本机的客户端配置文件ssh_config，注意，不是sshd_conf</li>
<li>vi /etc/ssh/ssh_config</li>
<li>找到</li>
<li>GSSAPIAuthentication yes</li>
<li>改为</li>
<li>GSSAPIAuthentication no</li>
<li>保存。</li>
</ul>
</li>
</ul>
<h2 id="日期与时间"><a href="#日期与时间" class="headerlink" title="日期与时间"></a>日期与时间</h2><h3 id="时间命令"><a href="#时间命令" class="headerlink" title="时间命令"></a>时间命令</h3><ul>
<li>date<ul>
<li>查看当前系统时间</li>
</ul>
</li>
<li>cal 查看日历<ul>
<li>cal 2020</li>
</ul>
</li>
<li>修改时间<ul>
<li>date -s 11:11:11</li>
<li>date -s 2019-11-11</li>
<li>date -s ‘2019-11-11 11:11:11’</li>
</ul>
</li>
</ul>
<h3 id="日期自动同步"><a href="#日期自动同步" class="headerlink" title="日期自动同步"></a>日期自动同步</h3><ul>
<li>自动同步时间<ul>
<li>yum install ntp -y</li>
<li>ntpdate cn.ntp.org.cn</li>
</ul>
</li>
</ul>
<h3 id="命令执行时间统计"><a href="#命令执行时间统计" class="headerlink" title="命令执行时间统计"></a>命令执行时间统计</h3><ul>
<li><pre><code class="bash">#!/bin/bash
start=$(date +%s)
nmap man.linuxde.net &amp;&gt; /dev/null

end=$(date +%s)
difference=$(( end - start ))
echo $difference seconds.</code></pre>
</li>
</ul>
<h2 id="用户-组-权限"><a href="#用户-组-权限" class="headerlink" title="用户-组-权限"></a>用户-组-权限</h2><h3 id="用户"><a href="#用户" class="headerlink" title="用户"></a>用户</h3><ul>
<li>新增用户<ul>
<li>useradd sxtly</li>
<li>会创建同名的组和家目录</li>
</ul>
</li>
<li>设置密码<ul>
<li>passwd sxtly</li>
</ul>
</li>
<li>删除用户<ul>
<li>userdel -r sxtly</li>
<li>级联删除家目录和组</li>
</ul>
</li>
<li>修改用户信息<ul>
<li>usermod -l sxtss sxtls 修改用户名<ul>
<li>家目录和组名称是不会被修改的</li>
</ul>
</li>
<li>usermod -L sxtss 锁定用户名</li>
<li>usermod -U sxtss 解锁用户名</li>
</ul>
</li>
<li>常用文件<ul>
<li>cat  /etc/shadow<ul>
<li>用户名和密码</li>
</ul>
</li>
<li>cat /etc/passwd<ul>
<li>用户名，编号,组编号,家目录，命令吗，目录</li>
<li>6.5系统0-499 普通 500+ </li>
<li>7.6系统0-999 普通 1000+ </li>
</ul>
</li>
</ul>
</li>
<li>切换账户<ul>
<li>su sxtly</li>
</ul>
</li>
</ul>
<h3 id="组"><a href="#组" class="headerlink" title="组"></a>组</h3><ul>
<li>创建组<ul>
<li>groupadd sxt</li>
</ul>
</li>
<li>删除组<ul>
<li>groupdel sxt</li>
</ul>
</li>
<li>修改组名字<ul>
<li>groupmod -n school sxt</li>
</ul>
</li>
<li>查看用户对应的组<ul>
<li>groups</li>
<li>groups schoolly<ul>
<li>当我们创建用户的时候，会默认创建一个同名的主组</li>
</ul>
</li>
</ul>
</li>
<li>修改用户的组<ul>
<li>usermod -g sxt schoolly  (主组)</li>
<li>usermod -G sxt schoolls (附属组)</li>
</ul>
</li>
</ul>
<h3 id="权限"><a href="#权限" class="headerlink" title="权限"></a>权限</h3><ul>
<li><p><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200707104146190.png" alt="image-20200707104146190"></p>
</li>
<li><p>查看文件的权限</p>
<ul>
<li>drw-r-xr-x 9 n1 m1    4096 Nov 13 00:30 apache-tomcat-7.0.61</li>
<li>三组权限，每组3个字母  <ul>
<li>r :读取权限</li>
<li>w :写入权限</li>
<li>x :执行权限</li>
<li>-:没有权限</li>
</ul>
</li>
<li>root :所属用户(属主)</li>
<li>root：所属的组（属组）</li>
</ul>
</li>
<li><p>权限的UGO模型</p>
<ul>
<li>三组权限</li>
<li>属主的权限：属组的权限：其他的权限</li>
<li>所有说：将来修改文件的权限 可以从rwx和ugo两个方面进行修改</li>
</ul>
</li>
<li><p>修改文件的权限</p>
<ul>
<li>修改文件所属<ul>
<li>chown n1 /var/sxt1</li>
<li>chown n1:m1 /var/sxt2</li>
<li>修改文件夹时，让子目录迭代修改<ul>
<li>chown -R n1:m1 school</li>
</ul>
</li>
<li>chgrp m2 sxt3<ul>
<li>当用户的组被修改之后，需要重新登录才能获取新组的权限</li>
</ul>
</li>
</ul>
</li>
<li>修改文件的rwx<ul>
<li>chmod o+w sxt4</li>
<li>chmod ug+rw sxt4</li>
<li>chmod ugo-rw sxt4</li>
<li>（权限RWX分别对应数字 4 2 1    5= 4+0+1  r-x）<ul>
<li>chmod 664 sxt4     -&gt;(rw- rw-r–)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200618102923217.png" alt="image-20200618102923217"></p>
</li>
</ul>
<h3 id="权限赋予"><a href="#权限赋予" class="headerlink" title="权限赋予"></a>权限赋予</h3><ul>
<li>我们可以将管理用的权限分配给普通用户</li>
<li>文件位置在   vim /etc/sudoers</li>
<li>但是修改这个文件需要使用命令<ul>
<li>visudo</li>
<li>修改 Line  99 </li>
<li>n1    ALL=(root)    /sbin/chkconfig</li>
<li>n1    ALL=(root)    /bin/useradd</li>
</ul>
</li>
<li>如何使用<ul>
<li>su n1</li>
<li>sudo chkconfig iptables off</li>
</ul>
</li>
</ul>
<h2 id="管道与重定向"><a href="#管道与重定向" class="headerlink" title="管道与重定向"></a>管道与重定向</h2><h3 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h3><ul>
<li>将前面命令的结果作为参数传递给后面的命令</li>
<li>grep <ul>
<li>强大的文本搜索工具</li>
<li>cat profile | grep if</li>
<li>ls / | grep ^t</li>
</ul>
</li>
</ul>
<h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h3><ul>
<li>改变数据输出的位置，方向</li>
<li>0 in  1 out 2  err<ul>
<li>ls / 1&gt; sxt    标准输出</li>
<li>ls / &gt; sxt  标准输出</li>
<li>ls abcd 2&gt;sxt   错误输出</li>
</ul>
</li>
<li>&gt;   替换     &gt;&gt;  追加<ul>
<li>ls / 1&gt;&gt; sxt</li>
<li>ls / 1&gt; sxt</li>
</ul>
</li>
<li>结合使用<ul>
<li>ls /etc /abc &gt; sxt 2&gt;&amp;1</li>
<li>ls /etc /abc &gt;&gt; sxt 2&gt;&amp;1</li>
</ul>
</li>
<li>信息黑洞<ul>
<li>ls /etc /abc &gt;&gt; /dev/null 2&gt;&amp;1</li>
</ul>
</li>
</ul>
<h2 id="Linux的系统进程"><a href="#Linux的系统进程" class="headerlink" title="Linux的系统进程"></a>Linux的系统进程</h2><h3 id="进程信息"><a href="#进程信息" class="headerlink" title="进程信息"></a>进程信息</h3><ul>
<li>ps -ef <ul>
<li>UID  PID   PPID  C STIME TTY          TIME CMD</li>
<li>UID 所属用户</li>
<li>PID 当前进程编号</li>
<li>PPID 当前进程编号的父进程编号</li>
</ul>
</li>
<li>ps -ef | grep redis</li>
<li>ps -aux <ul>
<li>所有信息</li>
</ul>
</li>
<li>ps -aux –sort -pcpu</li>
<li>top <ul>
<li>当前服务器内存使用率</li>
</ul>
</li>
</ul>
<h3 id="后台进程"><a href="#后台进程" class="headerlink" title="后台进程"></a>后台进程</h3><ul>
<li>只需要在命令的后面添加一个 &amp; 符号<ul>
<li>ping <a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a> &gt;&gt; baidu &amp;</li>
</ul>
</li>
<li>jobs -l <ul>
<li>可以查看当前的后台进程</li>
<li>但是只有当前用户界面可以获取到</li>
</ul>
</li>
<li>nohup 可以防止后台进程被挂起<ul>
<li>nohup ping <a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a> &gt;&gt; baidu 2&gt;&amp;1 &amp;</li>
</ul>
</li>
</ul>
<h3 id="杀死进程"><a href="#杀死进程" class="headerlink" title="杀死进程"></a>杀死进程</h3><ul>
<li>kill -9 17599 </li>
</ul>
<h2 id="Linux的软件安装"><a href="#Linux的软件安装" class="headerlink" title="Linux的软件安装"></a>Linux的软件安装</h2><h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><p>当我们执行一个命令的时候，默认从当前路径开始查找</p>
<p>如果当前路径找不到对应的命令文件，从环境变量$PATH查找</p>
<p>$PATH的配置文件在 /etc/profile</p>
<p>window 路径与路径之间用;(分号)连接 </p>
<p>Linux路径与路径之间用:（冒号）连接  </p>
<p>Linux每次修改完成之后，需要重新加载文件   source /etc/profile</p>
<h3 id="软件的安装方式"><a href="#软件的安装方式" class="headerlink" title="软件的安装方式"></a>软件的安装方式</h3><ul>
<li>解压就可以使用</li>
<li>使用安装包安装(window-exe   Linux-rpm)<ul>
<li>自己下载安装包</li>
<li>使用统一的软件帮助我们安装</li>
</ul>
</li>
<li>通过源码安装</li>
</ul>
<h3 id="RPM安装"><a href="#RPM安装" class="headerlink" title="RPM安装"></a>RPM安装</h3><ul>
<li><p>RedHat Package Manager,它属于红帽的一种包管理方式</p>
</li>
<li><p>通过RPM命令安装软件</p>
<ul>
<li>rpm -ivh jdk-7u67-linux-x64.rpm</li>
</ul>
</li>
<li><p>可以查询软件</p>
<ul>
<li>rpm -qa | grep jdk</li>
<li>rpm -q jdk</li>
</ul>
</li>
<li><p>卸载</p>
<ul>
<li>rpm -e jdk-1.7.0_67-fcs.x86_64</li>
</ul>
</li>
<li><p>需要手动配置Java的环境变量</p>
<ul>
<li><p>vim /etc/profile</p>
</li>
<li><pre><code class="shell">export JAVA_HOME=/usr/java/jdk1.7.0_67
export PATH=$JAVA_HOME/bin:$PATH</code></pre>
</li>
<li><p>重新加载配置文件</p>
<ul>
<li>source /etc/profile</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="压缩包解压安装"><a href="#压缩包解压安装" class="headerlink" title="压缩包解压安装"></a>压缩包解压安装</h3><ul>
<li>解压文件<ul>
<li>tar -zxf apache-tomcat-7.0.61.tar.gz</li>
</ul>
</li>
<li>拷贝到/opt/school目录下<ul>
<li>mkdir -p /opt/bdp</li>
<li>cp -r apache-tomcat-7.0.61 /opt/school</li>
</ul>
</li>
<li>启动tomcat<ul>
<li>cd /opt/school/apache-tomcat-7.0.61/bin/</li>
<li>./startup.sh</li>
</ul>
</li>
</ul>
<h3 id="YUM安装"><a href="#YUM安装" class="headerlink" title="YUM安装"></a>YUM安装</h3><h4 id="yum的作用"><a href="#yum的作用" class="headerlink" title="yum的作用"></a>yum的作用</h4><ul>
<li>可以帮我们管理RPM包</li>
<li>可以帮我们安装软件，</li>
<li>如果软件有其他依赖，会帮我们安装依赖后在安装软件</li>
<li>类似于Maven</li>
</ul>
<h4 id="yum命令"><a href="#yum命令" class="headerlink" title="yum命令"></a>yum命令</h4><ul>
<li>search  查询命令或者软件</li>
<li>info<ul>
<li>查看包的信息</li>
</ul>
</li>
<li>list / list jdk <ul>
<li>查询安装的rpm包，或者只查询某一周</li>
</ul>
</li>
</ul>
<h4 id="更换yum源"><a href="#更换yum源" class="headerlink" title="更换yum源"></a>更换yum源</h4><ul>
<li>首先安装wget<ul>
<li>yum install wget -y</li>
</ul>
</li>
<li>将系统原始配置文件失效<ul>
<li>mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup</li>
</ul>
</li>
<li>使用Wget获取阿里yum源配置文件<ul>
<li>wget -O /etc/yum.repos.d/CentOS-Base.repo <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/repo/Centos-6.repo">http://mirrors.aliyun.com/repo/Centos-6.repo</a></li>
<li>wget -O /etc/yum.repos.d/CentOS-Base.repo <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/repo/Centos-7.repo">http://mirrors.aliyun.com/repo/Centos-7.repo</a></li>
</ul>
</li>
<li>清空以前yum源的缓存<ul>
<li>yum clean all</li>
</ul>
</li>
<li>获取阿里云的缓存<ul>
<li>yum makecache</li>
</ul>
</li>
</ul>
<h3 id="安装Mysql数据库"><a href="#安装Mysql数据库" class="headerlink" title="安装Mysql数据库"></a>安装Mysql数据库</h3><p><img src= "/img/loading.gif" data-lazy-src="0101Linux.assets/image-20200615210432096.png" alt="image-20200615210432096"></p>
<pre><code class="shell">#----------安装Mysql依赖【perl net-tools】
yum install perl net-tools -y
#----------卸载mariadb
rpm -qa | grep mariadb
rpm -e --nodeps mariadb-libs-5.5.60-1.el7_5.x86_64
#----------安装mysql
tar -xvf mysql-5.7.28-1.el7.x86_64.rpm-bundle.tar

rpm -ivh mysql-community-common-5.7.28-1.el7.x86_64.rpm
rpm -ivh mysql-community-libs-5.7.28-1.el7.x86_64.rpm
rpm -ivh mysql-community-client-5.7.28-1.el7.x86_64.rpm
rpm -ivh mysql-community-server-5.7.28-1.el7.x86_64.rpm

#----------启动mysql
systemctl start mysqld

#----------查找密码并登陆Mysql
cat /var/log/mysqld.log | grep password
mysql -u root -p
#----------修改Mysql密码
set global validate_password_policy=low;
set global validate_password_length=6;
alter user root@localhost identified by &#39;123456&#39;;

#----------修改Mysql链接地址
use mysql;
update user set  host=&#39;%&#39; where user = &#39;root&#39;;
commit;
exit;

systemctl restart mysqld;
#----------使用Navicat连接Mysql</code></pre>
<h2 id="Linux的三剑客"><a href="#Linux的三剑客" class="headerlink" title="Linux的三剑客"></a>Linux的三剑客</h2><h3 id="普通剑客"><a href="#普通剑客" class="headerlink" title="普通剑客"></a>普通剑客</h3><ul>
<li><p>cut</p>
<ul>
<li>用指定的规则来切分文本</li>
<li>cut -d’:’ -f1,2,3 passwd | grep school</li>
</ul>
</li>
<li><p>sort</p>
<ul>
<li>sort sxt<ul>
<li>对文本中的行进行排序</li>
</ul>
</li>
<li>sort -t’ ‘ -k2 sxt<ul>
<li>对每一行的数据进行切分，按照第二列进行排序</li>
</ul>
</li>
<li>sort -t’ ‘ -k2 -r sxt<ul>
<li>逆序</li>
</ul>
</li>
<li>sort -t’ ‘ -k2 -n  sxt<ul>
<li>按照数值大小进行排序,如果有字母，字母在前</li>
</ul>
</li>
</ul>
</li>
<li><p>wc</p>
<ul>
<li>统计单词的数量</li>
<li>wc sxt</li>
<li>4 15 79 sxt<ul>
<li>-l</li>
<li>-w</li>
<li>-c</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="剑客1号：grep"><a href="#剑客1号：grep" class="headerlink" title="剑客1号：grep"></a>剑客1号：grep</h3><ul>
<li>可以对文本进行搜索</li>
<li>同时搜索多个文件<ul>
<li>grep school passwd sxt</li>
</ul>
</li>
<li>显示匹配的行号<ul>
<li>grep -n school passwd</li>
</ul>
</li>
<li>显示不匹配的忽略大小写<ul>
<li>grep -nvi school passwd –color=auto</li>
</ul>
</li>
<li>使用正则表达式匹配<ul>
<li>grep -E “[1-9]+” passwd –color=auto</li>
</ul>
</li>
</ul>
<h3 id="剑客2号：sed"><a href="#剑客2号：sed" class="headerlink" title="剑客2号：sed"></a>剑客2号：sed</h3><ul>
<li><p>sed 是Stream Editor（字符流编辑器）的缩写，简称流编辑器</p>
</li>
<li><p>Sed软件从文件或管道中读取一行，处理一行，输出一行；再读取一行，再处理一行，再输出一行…</p>
</li>
<li><p>一次一行的设计使得sed软件性能很高</p>
</li>
<li><p>vi命令打开文件是一次性将文件加载到内存</p>
</li>
<li><p>了解即可</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/chensiqiqi/p/6382080.html">https://www.cnblogs.com/chensiqiqi/p/6382080.html</a></li>
</ul>
</li>
<li><p>行的选择模式</p>
<ul>
<li>10 第十行</li>
<li>m,n –&gt; 第m行到第n行  [m,n]</li>
<li>m,+n–&gt;第一行到第四行 [m,m+n]</li>
<li>m~n–&gt;从m行开始，依次累加n</li>
<li>m,$ –&gt;从m开始到最后一行</li>
<li>/school/ –&gt;匹配到school的行</li>
<li>/u1/,/u4/–&gt;从匹配u1到匹配u4</li>
</ul>
</li>
<li><p>增</p>
<ul>
<li>sed ‘2a sxtisgood’ passwd</li>
<li>sed ‘2i sxtisgood’ passwd<ul>
<li>打印到控制台</li>
</ul>
</li>
<li>sed -i ‘2a sxtisgood’ passwd<ul>
<li>直接修改到文件</li>
</ul>
</li>
</ul>
</li>
<li><p>删</p>
<ul>
<li>sed ‘3,10d’ passwd</li>
</ul>
</li>
<li><p>改</p>
<ul>
<li>整行替换<ul>
<li>sed ‘3,20c hahaha’ passwd</li>
<li>sed ‘3~1c hehehe’ passwd</li>
</ul>
</li>
<li>字符替换<ul>
<li>sed ‘1,5s/root/sxt/g’ passwd</li>
<li>sed ‘1,5s#/#-#g’ passwd</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="剑客3号：awk"><a href="#剑客3号：awk" class="headerlink" title="剑客3号：awk"></a>剑客3号：awk</h3><ul>
<li>它不是一个剑客，它是一门语言</li>
<li>了解即可<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/chensiqiqi/p/6481647.html">https://www.cnblogs.com/chensiqiqi/p/6481647.html</a></li>
</ul>
</li>
<li>模式与动作<ul>
<li>awk -F “:” ‘NR&gt;=2&amp;&amp;NR&lt;=6’ /etc/passwd</li>
<li>awk -F “:” ‘{print NR,$1}’ /etc/passwd</li>
<li>awk -F “:” ‘NR&gt;=2&amp;&amp;NR&lt;=6 {print NR,$1}’  /etc/passwd</li>
<li>awk -F “:” ‘NR==1{print NR,$1}NR==2{print NR,$NF}’ /etc/passwd</li>
</ul>
</li>
</ul>
<h2 id="Linux的Shell编程"><a href="#Linux的Shell编程" class="headerlink" title="Linux的Shell编程"></a>Linux的Shell编程</h2><h3 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h3><ul>
<li>Kernel<ul>
<li>Linux内核主要是为了和硬件打交道</li>
</ul>
</li>
<li>Shell<ul>
<li>Shell 是一个用 C 语言编写的程序，它是用户使用 Linux 的桥梁。Shell 既是一种命令语言，又是一种程序设计语言。</li>
<li>Shell 是指一种应用程序，这个应用程序提供了一个界面，用户通过这个界面访问操作系统内核的服务。</li>
</ul>
</li>
<li>Shell环境<ul>
<li>只要有一个能编写代码的文本编辑器和一个能解释执行的脚本解释器就可以了。</li>
<li>Bourne Shell（/usr/bin/sh或/bin/sh）</li>
<li>Bourne Again Shell（/bin/bash）–默认</li>
<li>C Shell（/usr/bin/csh）</li>
</ul>
</li>
<li><strong>#!</strong> 声明<ul>
<li>告诉系统其后路径所指定的程序即是解释此脚本文件的 Shell 程序</li>
</ul>
</li>
</ul>
<h3 id="执行Shell的方式"><a href="#执行Shell的方式" class="headerlink" title="执行Shell的方式"></a>执行Shell的方式</h3><ul>
<li>./shsxt.sh<ul>
<li>执行的必须是一个可执行文件</li>
<li>chmod u+x shsxt.sh</li>
<li>会开启一个子进程执行脚本</li>
<li>7080（ssh）–》12826(./var.sh) —》12827(ping)</li>
</ul>
</li>
<li>sh shsxt.sh<ul>
<li>执行的文件可以是一个普通文件</li>
</ul>
</li>
<li>source shsxt.sh<ul>
<li>source shsxt.sh</li>
<li>直接在当前进程执行脚本</li>
<li>12661(ssh)–》12797(ping)</li>
</ul>
</li>
</ul>
<h3 id="shell语法"><a href="#shell语法" class="headerlink" title="shell语法"></a>shell语法</h3><ul>
<li><p>变量</p>
<ul>
<li>export  : 可以将当前进程的变量传递给子进程去使用<ul>
<li>将来配置profile的时候 所有的变量前必须加export </li>
</ul>
</li>
</ul>
</li>
<li><pre><code class="shell">#! /bin/bash
echo -e &quot;\e[1;31m【----------在opt和var创建bdp文件夹】\e[0m&quot;
echo -e &quot;\e[1;31m【----------禁用防火墙】\e[0m&quot;
echo -e &quot;\e[1;32m【----------修改selinux】\e[0m&quot;
echo -e &quot;\e[1;32m【----------安装wget】\e[0m&quot;
echo -e &quot;\e[1;33m【----------修改yum源】\e[0m&quot;
echo -e &quot;\e[1;33m【----------安装常用软件man man-pages ntp vim lrzsz zip unzip】\e[0m&quot;
echo -e &quot;\e[1;34m【----------DNS域名配置】\e[0m&quot;
echo -e &quot;\e[1;34m【----------安装JDK】\e[0m&quot;
echo -e &quot;\e[1;35m【----------安装Tomcat】\e[0m&quot;
echo -e &quot;\e[1;35m【----------安装Nginx】\e[0m&quot;
echo -e &quot;\e[1;36m【----------设置开机启动项】\e[0m&quot;
echo -e &quot;\e[1;36m【----------删除文件】\e[0m&quot;
shutdown -h now
</code></pre>
</li>
</ul>
<h2 id="Linux的启动流程"><a href="#Linux的启动流程" class="headerlink" title="Linux的启动流程"></a>Linux的启动流程</h2><h3 id="系统启动流程"><a href="#系统启动流程" class="headerlink" title="系统启动流程"></a>系统启动流程</h3><ul>
<li><p>启动计算机的硬件(BIOS)</p>
<ul>
<li>读取时间</li>
<li>选择对应的启动模式</li>
</ul>
</li>
<li><p>如果是Linux系统，回去找/boot目录.引导这个系统启动</p>
</li>
<li><p>计算机系统开始启动,读取初始化配置文件</p>
<ul>
<li><p>vim /etc/inittab</p>
</li>
<li><p>启动时控制着计算机的运行级别 runlevel</p>
</li>
<li><table>
<thead>
<tr>
<th>0</th>
<th>halt (关机)</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>Single user mode(单用户模式)</td>
</tr>
<tr>
<td>2</td>
<td>Multiuser, without NFS(多用户模式，但是无网络状态)  FS–&gt;FileSystem</td>
</tr>
<tr>
<td>3</td>
<td>Full multiuser mode(多用户完整版模式)</td>
</tr>
<tr>
<td>4</td>
<td>unused (保留模式)</td>
</tr>
<tr>
<td>5</td>
<td>X11(用户界面模式)</td>
</tr>
<tr>
<td>6</td>
<td>reboot(重启模式)</td>
</tr>
</tbody></table>
</li>
<li><p>id:3:initdefault:  默认runlevel为3</p>
</li>
<li><p>以runlevel=3开始启动对应的服务和组件</p>
</li>
</ul>
</li>
<li><p>开始默认引导公共的组件或者服务</p>
<ul>
<li>vim /etc/rc.d/rc.sysinit</li>
</ul>
</li>
<li><p>开始加载对应runlevel的服务</p>
<ul>
<li>vi /etc/rc3.d/<ul>
<li>K:关机时需要关闭的服务</li>
<li>S:启动时需要开启的服务</li>
<li>数字代表了开启或者关闭的顺序</li>
<li>所有的文件都是软链接，链接的地址为 /etc/init.d</li>
</ul>
</li>
</ul>
</li>
<li><p>当启动完毕，所有的服务也被加载完成</p>
</li>
</ul>
<h3 id="系统服务"><a href="#系统服务" class="headerlink" title="系统服务"></a>系统服务</h3><ul>
<li>我们可以使用chkconfig命令查看当前虚拟机的服务</li>
<li>通过查看可以得知不同的级别对应到每一个服务确定本次开机自动启动</li>
<li>开机结束后，我们需要使用service命令控制服务的开启或者关闭</li>
</ul>
<h3 id="开机自启动服务"><a href="#开机自启动服务" class="headerlink" title="开机自启动服务"></a>开机自启动服务</h3><ul>
<li><p>rc.local</p>
<ul>
<li>首先创建脚本存放的文件夹<ul>
<li>mkdir -p /usr/local/scripts</li>
</ul>
</li>
<li>在文件夹中创建脚本文件<ul>
<li>vim hello.sh</li>
<li>给予执行权限</li>
</ul>
</li>
<li>去/etc/rc.d/rc.local文件中添加脚本的绝对路径<ul>
<li>给予rc.local执行权限</li>
</ul>
</li>
</ul>
</li>
<li><p>chkconfig</p>
<ul>
<li><p>创建开机自启动脚本文件</p>
</li>
<li><p>vim schoolntpdate.sh</p>
</li>
<li><pre><code class="bash">#!/bin/bash
#chkconfig: 2345 88 99
#description:auto_run

# 开机自启动同步时间
yum info ntp &amp;&amp; ntpdate cn.ntp.org.cn</code></pre>
</li>
<li><p>给其设置执行权限</p>
<ul>
<li>chmod u+x schoolntpdate.sh</li>
</ul>
</li>
<li><p>将脚本拷贝到 /etc/init.d目录下</p>
<ul>
<li>cp  schoolntpdate.sh /etc/init.d/</li>
</ul>
</li>
<li><p>添加到服务</p>
<ul>
<li>chkconfig –add /etc/init.d/schoolntpdate.sh</li>
</ul>
</li>
<li><p>重启服务器</p>
<ul>
<li>reboot</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="定时任务"><a href="#定时任务" class="headerlink" title="定时任务"></a>定时任务</h3><ul>
<li><p>在系统服务中心，crond负责周期任务</p>
<ul>
<li>systemctl status crond.service</li>
</ul>
</li>
<li><p>添加任务，编辑当前用户的任务列表</p>
<ul>
<li>crontab -e</li>
</ul>
</li>
<li><p>编辑任务</p>
<ul>
<li><p>星 星 星 星 星  command<br>分　时　 日　  月　 周　命令<br>第1列表示分钟1～59 每分钟用*或者 */1表示<br>第2列表示小时1～23（0表示0点）<br>第3列表示日期1～31<br>第4列表示月份1～12<br>第5列标识号星期0～6（0表示星期天）<br>第6列要运行的命令</p>
<p><em>：表示任意时间都，实际上就是“每”的意思。可以代表00-23小时或者00-12每月或者00-59分<br>-：表示区间，是一个范围，00 17-19 * * * cmd，就是每天17,18,19点的整点执行命令<br>,：是分割时段，30 3,19,21 * * * cmd，就是每天凌晨3和晚上19,21点的半点时刻执行命令<br>/n：表示分割，可以看成除法，</em>/5 * * * * cmd，每隔五分钟执行一次</p>
</li>
<li><pre><code>30 21 * * * /usr/local/etc/rc.d/lighttpd restart
上面的例子表示每晚的21:30重启apache。

45 4 1,10,22 * * /usr/local/etc/rc.d/lighttpd restart
上面的例子表示每月1、10、22日的4 : 45重启apache。

10 1 * * 6,0 /usr/local/etc/rc.d/lighttpd restart
上面的例子表示每周六、周日的1 : 10重启apache。

0,30 18-23 * * * /usr/local/etc/rc.d/lighttpd restart
上面的例子表示在每天18 : 00至23 : 00之间每隔30分钟重启apache。

0 23 * * 6 /usr/local/etc/rc.d/lighttpd restart
上面的例子表示每星期六的11 : 00 pm重启apache。

* */1 * * * /usr/local/etc/rc.d/lighttpd restart
每一小时重启apache

* 23-7/1 * * * /usr/local/etc/rc.d/lighttpd restart
晚上11点到早上7点之间，每隔一小时重启apache

0 11 4 * mon-wed /usr/local/etc/rc.d/lighttpd restart
每月的4号与每周一到周三的11点重启apache

0 4 1 jan * /usr/local/etc/rc.d/lighttpd restart
一月一号的4点重启apache</code></pre>
</li>
</ul>
</li>
<li><p>重启crontab，使配置生效</p>
<ul>
<li>systemctl restart crond.service</li>
</ul>
</li>
<li><p>通过crontab -l</p>
<ul>
<li>查看当前的定时任务</li>
</ul>
</li>
<li><p>查看任务的历史</p>
<ul>
<li>vim /var/spool/mail/root</li>
</ul>
</li>
<li><p>清除任务</p>
<ul>
<li>crontab -r</li>
</ul>
</li>
</ul>
<h2 id="虚拟机初始化脚本"><a href="#虚拟机初始化脚本" class="headerlink" title="虚拟机初始化脚本"></a>虚拟机初始化脚本</h2><pre><code class="shell">#!/bin/bash
echo -e &quot;\e[1;31m【----------------------------------------在opt和var创建bdp文件夹】\e[0m&quot;
sleep 5
mkdir -p /opt/bdp
mkdir -p /var/bdp
mkdir -p /usr/local/script

echo -e &quot;\e[1;31m【----------------------------------------禁用防火墙】\e[0m&quot;
sleep 5
systemctl stop firewalld
systemctl disable firewalld
systemctl status firewalld

echo -e &quot;\e[1;32m【----------------------------------------修改selinux】\e[0m&quot;
sleep 5
sed -i &#39;/^SELINUX=/c SELINUX=disabled&#39; /etc/selinux/config

echo -e &quot;\e[1;32m【----------------------------------------安装wget】\e[0m&quot;
sleep 5
yum install wget -y

echo -e &quot;\e[1;33m【----------------------------------------修改yum源】\e[0m&quot;
sleep 5
mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
yum clean all
yum makecache

echo -e &quot;\e[1;33m【----------------------------------------安装常用软件】\e[0m&quot;
yum install man man-pages ntp vim lrzsz zip unzip telnet perl net-tools -y

echo -e &quot;\e[1;34m【----------------------------------------同步系统时间】\e[0m&quot;
yum info ntp &amp;&amp;  ntpdate cn.ntp.org.cn

echo -e &quot;\e[1;34m【----------------------------------------DNS域名配置】\e[0m&quot;
sleep 5
echo &quot;192.168.58.100 basenode&quot; &gt;&gt; /etc/hosts
echo &quot;192.168.58.161 bd1601&quot; &gt;&gt; /etc/hosts
echo &quot;192.168.58.162 bd1602&quot; &gt;&gt; /etc/hosts
echo &quot;192.168.58.163 bd1603&quot; &gt;&gt; /etc/hosts
echo -e &quot;\e[1;34m【----------------------------------------安装JDK】\e[0m&quot;
sleep 5
rpm -ivh jdk-8u231-linux-x64.rpm
echo &#39;export JAVA_HOME=/usr/java/jdk1.8.0_231-amd64&#39; &gt;&gt; /etc/profile
echo &#39;export PATH=$JAVA_HOME/bin:$PATH&#39; &gt;&gt; /etc/profile
source /etc/profile
echo -e &quot;\e[1;35m【----------------------------------------安装Tomcat】\e[0m&quot;
sleep 5
tar -zxf apache-tomcat-8.5.47.tar.gz
mv apache-tomcat-8.5.47 /opt/bdp/
echo -e &quot;\e[1;35m【----------------------------------------安装Mysql】\e[0m&quot;
sleep 5
rpm -e --nodeps `rpm -qa | grep mariadb`

tar -xvf mysql-5.7.28-1.el7.x86_64.rpm-bundle.tar
rpm -ivh mysql-community-common-5.7.28-1.el7.x86_64.rpm
rpm -ivh mysql-community-libs-5.7.28-1.el7.x86_64.rpm
rpm -ivh mysql-community-client-5.7.28-1.el7.x86_64.rpm
rpm -ivh mysql-community-server-5.7.28-1.el7.x86_64.rpm

systemctl start mysqld
systemctl enable mysqld

temppasswd=`grep &quot;A temporary password&quot; /var/log/mysqld.log | awk &#39;&amp;#123; print $NF&amp;#125;&#39;`

mysql -uroot -p$temppasswd --connect-expired-password &lt;&lt; EOF
set global validate_password_policy=low;
set global validate_password_length=6;
alter user root@localhost identified by &#39;123456&#39;;

use mysql;
update user set  host=&#39;%&#39; where user = &#39;root&#39;;
commit;
quit
EOF

systemctl restart mysqld

echo -e &quot;\e[1;35m【----------------------------------------安装Nginx】\e[0m&quot;
sleep 5
echo -e &quot;\e[1;36m【----------------------------------------设置开机启动项】\e[0m&quot;
sleep 5
touch /usr/local/script/auto_ntpdate.sh
echo &#39;#!/bin/bash&#39; &gt;&gt; /usr/local/script/auto_ntpdate.sh
echo &#39;yum info ntp &amp;&amp;  ntpdate cn.ntp.org.cn&#39; &gt;&gt; /usr/local/script/auto_ntpdate.sh
chmod u+x /usr/local/script/auto_ntpdate.sh

echo &#39;/usr/local/script/auto_ntpdate.sh&#39; &gt;&gt; /etc/rc.local
chmod u+x /etc/rc.local

echo -e &quot;\e[1;36m【----------------------------------------删除文件】\e[0m&quot;
sleep 5
rm -rf apache-tomcat-8.5.47.tar.gz
rm -rf jdk-8u231-linux-x64.rpm
rm -rf mysql*
rm -rf *.sh

echo -e &quot;\e[1;36m【----------------------------------------关闭计算器，拍快照】\e[0m&quot;
sleep 5
shutdown -h now</code></pre>
<h2 id="虚拟机相互免秘钥"><a href="#虚拟机相互免秘钥" class="headerlink" title="虚拟机相互免秘钥"></a>虚拟机相互免秘钥</h2><pre><code class="shell">##三台主机分别生成秘钥
【123】ssh-keygen -t rsa -P &#39;&#39; -f ~/.ssh/id_rsa

##将秘钥分别拷贝给自己和别人
【123】ssh-copy-id -i ~/.ssh/id_rsa.pub root@192.168.58.161
【123】ssh-copy-id -i ~/.ssh/id_rsa.pub root@192.168.58.162
【123】ssh-copy-id -i ~/.ssh/id_rsa.pub root@192.168.58.163
yes -- 123456

##将自己的地址添加到known_hosts
【123】ssh bd1601
exit
【123】ssh bd1602
exit
【123】ssh bd1603
exit
【123】ssh localhost
【123】ssh 127.0.0.1

##关闭主机拍摄快照
power off</code></pre>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Pigig</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://pigig.github.io/2020/08/25/0101Linux/">https://pigig.github.io/2020/08/25/0101Linux/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://pigig.github.io" target="_blank">P's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/System/">System</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/08/25/BigData/"><img class="prev-cover" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">BigData</div></div></a></div><div class="next-post pull-right"><a href="/2020/08/24/RESTful/"><img class="next-cover" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">RESTful</div></div></a></div></nav></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By Pigig</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div class="aplayer no-destroy" data-id="000PeZCQ1i4XVs" data-server="tencent" data-type="artist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="true" muted></div></div></body></html>